<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/blog/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Gemini',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="linux简介安装 安装操作系统软件   CentOS6.8-***.iso 密码原则    12位以上    大小写字符  数字   特殊符号 DeskTop   图形界面      开发  Basic Server   服务器   没有图形界面   Server 安装Basic Server    701软件包 分区  swap备用内存2000M ，/boot exit 执行内存200M 剩余">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="linux的基础命令">
<meta property="og:url" content="https://127.0.0.1/blog/2019/05/06/linux的基础命令/index.html">
<meta property="og:site_name" content="郑小飞的个人博客">
<meta property="og:description" content="linux简介安装 安装操作系统软件   CentOS6.8-***.iso 密码原则    12位以上    大小写字符  数字   特殊符号 DeskTop   图形界面      开发  Basic Server   服务器   没有图形界面   Server 安装Basic Server    701软件包 分区  swap备用内存2000M ，/boot exit 执行内存200M 剩余">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="c:/Users/Administrator/Desktop/图片1.png">
<meta property="og:image" content="file:///C:/Users/ADMINI~1/AppData/Local/Temp/ksohtml/wps1EA7.tmp.jpg">
<meta property="og:image" content="file:///C:/Users/ADMINI~1/AppData/Local/Temp/ksohtml/wps728F.tmp.jpg">
<meta property="og:updated_time" content="2019-05-08T08:21:10.403Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux的基础命令">
<meta name="twitter:description" content="linux简介安装 安装操作系统软件   CentOS6.8-***.iso 密码原则    12位以上    大小写字符  数字   特殊符号 DeskTop   图形界面      开发  Basic Server   服务器   没有图形界面   Server 安装Basic Server    701软件包 分区  swap备用内存2000M ，/boot exit 执行内存200M 剩余">
<meta name="twitter:image" content="c:/Users/Administrator/Desktop/图片1.png">





  
  
  <link rel="canonical" href="https://127.0.0.1/blog/2019/05/06/linux的基础命令/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>linux的基础命令 | 郑小飞的个人博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">郑小飞的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/blog/home" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/blog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/blog/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>公益 404</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/ywdhzxf/myBlog" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://127.0.0.1/blog/blog/2019/05/06/linux的基础命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郑小飞">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑小飞的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">linux的基础命令

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-06 12:36:15" itemprop="dateCreated datePublished" datetime="2019-05-06T12:36:15+08:00">2019-05-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-08 16:21:10" itemprop="dateModified" datetime="2019-05-08T16:21:10+08:00">2019-05-08</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="linux简介"><a href="#linux简介" class="headerlink" title="linux简介"></a>linux简介</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol>
<li>安装操作系统软件   CentOS6.8-***.iso</li>
<li>密码原则    12位以上    大小写字符  数字   特殊符号</li>
<li>DeskTop   图形界面      开发 </li>
<li>Basic Server   服务器   没有图形界面   Server</li>
<li>安装Basic Server    701软件包</li>
<li>分区  swap备用内存2000M ，/boot exit 执行内存200M 剩余全部为根目录exit空间</li>
<li>setup 设置防火墙之类</li>
<li>ifconfig  查看网络状态 </li>
<li>最后service network restart 重启网络服务确定无误</li>
</ol>
<h3 id="常用端口"><a href="#常用端口" class="headerlink" title="常用端口"></a>常用端口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3306   mysql        80 apache（http）    22 ssh</span><br><span class="line">pgrep  应用    得到进程号</span><br></pre></td></tr></table></figure>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ls              (显示当前目录下文件)</span><br><span class="line">ls 目录名        (显示指定目录下文件)</span><br><span class="line">ls -l           (长格式显示目录文件)</span><br><span class="line">ls -l 文件名     (长格式显示指定文件)</span><br><span class="line">ls -a           (显示所有文件(包含隐藏文件))</span><br><span class="line">ls -al          (长格式显示当前目录下所有文件)</span><br><span class="line">ls -h           (文件大小显示为常见大小单位 B KB MB ...)</span><br><span class="line">ls -d           (显示目录本身，而不是里面的子文件)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src   切换到指定路径(使用绝对路径方式)</span><br><span class="line">cd ~                进入当前用户的家目录</span><br><span class="line">cd -                进入上次目录</span><br><span class="line">cd ..               进入上一级目录</span><br><span class="line">cd .                进入当前目录</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/bin              命令保存目录（普通用户就可以读取的命令）</span><br><span class="line">/boot             启动目录，启动相关文件</span><br><span class="line">/dev              设备文件保存目录</span><br><span class="line">/etc              配置文件保存目录</span><br><span class="line">/home             普通用户的家目录</span><br><span class="line">/lib              系统库保存目录</span><br><span class="line">/mnt              系统挂载目录</span><br><span class="line">/media            挂载目录</span><br><span class="line">/root             超级用户的家目录</span><br><span class="line">/tmp              临时目录</span><br><span class="line">/sbin             命令保存目录（超级用户才能使用的目录）</span><br><span class="line">/proc             直接写入内存的</span><br><span class="line">/sys              将内核的一些信息映射，可供应用程序所用</span><br><span class="line">/usr              系统软件资源目录</span><br><span class="line">/usr/bin/         系统命令（普通用户）</span><br><span class="line">/usr/sbin/        系统命令（超级用户）</span><br><span class="line">/var              系统相关文档内容</span><br><span class="line">/var/log/         系统日志位置</span><br><span class="line">/var/spool/mail/  系统默认邮箱位置</span><br><span class="line">/var/lib/         默认安装的库文件目录</span><br></pre></td></tr></table></figure>
<h3 id="提示符"><a href="#提示符" class="headerlink" title="提示符"></a>提示符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[dragon@localhost ~]$</span><br><span class="line">   ①       ②    ③ ④</span><br><span class="line"></span><br><span class="line">①：dragon 代表 当前登录用户</span><br><span class="line">②：localhost 代表 主机名</span><br><span class="line">③：~ 代表 当前所在目录</span><br><span class="line">    ~ 用户家目录；  /root 管理员；  /home/用户名 普通用户</span><br><span class="line">④：$ 代表 当前用户身份</span><br><span class="line">    $ 普通用户；  # 超级用户</span><br></pre></td></tr></table></figure>
<h2 id="linux简单操作"><a href="#linux简单操作" class="headerlink" title="linux简单操作"></a>linux简单操作</h2><h3 id="追加"><a href="#追加" class="headerlink" title="追加"></a>追加</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls -lR  可以看当前目录文件以及目录里面的文件</span><br><span class="line">/opt  临时应用的SH 可以放置</span><br><span class="line">bd 数据库          bak 备份</span><br><span class="line">last  查看历史登录记录（用户名，时间，登录中断之类）</span><br><span class="line">$0   文件本身      printf 格式化打印</span><br></pre></td></tr></table></figure>
<h3 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mkdir   t1        创建目录</span><br><span class="line">mkdir   -p   t1/t2/t3      递归创建目录</span><br><span class="line">rmdir   t1         删除目录（只能删除空目录）</span><br><span class="line">rm -rf   t1    强制删除目录文件</span><br><span class="line">rm  -r   t1   递归删除文件和目录   </span><br><span class="line">touch  t1.py    创建空文件</span><br><span class="line">touch  -t  20170612   t1    修改文件时间</span><br><span class="line">cat   t1.py       查看文件内容</span><br><span class="line">cat   -n    t1.py      查看文件内容并列出行号</span><br><span class="line">more   t1.py      分屏显示文件内容   空格向上   b 向下      q 退出</span><br><span class="line">head  t1.py   显示文件前几行（默认10行）</span><br><span class="line">head  -n  20   文件名    显示文件前20 行</span><br><span class="line">head   -n  -29  文件名   显示文件最后20行（不常用，有tail）</span><br><span class="line">ln  -s   源文件    目标文件       创建链接文件（必须用绝对路径）</span><br><span class="line">nano    文件名          纳米编辑器</span><br><span class="line">man   ls     帮助命令             ls    --help     帮助命令</span><br><span class="line">date		查看系统时间</span><br><span class="line">	date  -s  20170220		设定日期</span><br><span class="line">	date  -s  09:30:00		设定时间</span><br><span class="line">du  -sh  目录名		统计目录大小</span><br><span class="line">	-s	和</span><br><span class="line">	-h	常见单位 </span><br><span class="line">df  -h       查看系统内存（查看占用内存。以便为后安装程序做准备）</span><br><span class="line">df   -hT      查看系统内存（T 类型）</span><br><span class="line">netstat -an |grep ESTABLISHED | wc -l   查看服务器的连接数</span><br><span class="line">source 文件名      执行这个文件（一般在改配置时使用）</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cp 源文件 目标位置             (复制)</span><br><span class="line">    或</span><br><span class="line">cp 源文件 目标位置/目标名称      (复制并改名)</span><br><span class="line"></span><br><span class="line">cp -r       复制目录</span><br><span class="line">cp -p       连带文件属性一起复制</span><br><span class="line">cp -d       若源文件是链接文件，则复制链接属性</span><br><span class="line">cp -a       相当于 cp -pdr</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv 源文件 目标位置</span><br><span class="line">mv /root/test /tmp/           将/root/下的test文件移动到/tmp/目录下</span><br><span class="line">mv /root/test /root/newtest   将/root/下的test文件改名为newtest</span><br></pre></td></tr></table></figure>
<h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ctrl +c      强行终止</span><br><span class="line">ctrl   + l     清屏</span><br><span class="line">tab         命令补全   文件目录名补全（常用）</span><br><span class="line">反撤销  ctrl + r</span><br></pre></td></tr></table></figure>
<h3 id="权限位"><a href="#权限位" class="headerlink" title="权限位"></a>权限位</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--. 1 root root 44736 7月  18 00:38 install.log</span><br><span class="line"></span><br><span class="line">权限位是十位</span><br><span class="line">    第一位：代表文件类型</span><br><span class="line">    -   普通文件</span><br><span class="line">    d   目录文件</span><br><span class="line">    l   链接文件</span><br><span class="line">默认文件   644   默认目录  755     默认链接文件  777</span><br><span class="line">最大  777   最小 000</span><br><span class="line"></span><br><span class="line">    其他九位：代表各用户的权限</span><br><span class="line">    (前三位=属主权限u  中间三位=属组权限g  其他人权限o)</span><br><span class="line">    r   读   4</span><br><span class="line">    w   写   2</span><br><span class="line">    x   执行  1</span><br><span class="line">    权限对文件的含义</span><br><span class="line">    r：读取文件内容 如：cat、more、head、tail</span><br><span class="line">    w：编辑、新增、修改文件内容 如：vi、echo 但是不包含删除文件</span><br><span class="line">    x：可执行  /tmp/11/22/abc   ---------    </span><br><span class="line"></span><br><span class="line">权限对目录的含义</span><br><span class="line">    r：可以查询目录下文件名 如：ls</span><br><span class="line">    w：具有修改目录结构的权限 如：touch、rm、mv、cp</span><br><span class="line">    x：可以进入目录 如：cd</span><br></pre></td></tr></table></figure>
<h3 id="权限操作"><a href="#权限操作" class="headerlink" title="权限操作"></a>权限操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x aa      aa文件的属主加上执行权限</span><br><span class="line">chmod u-x aa      aa文件的属主减去执行权限</span><br><span class="line">chmod g+w,o+w aa  aa文件的属组和其他人加上写权限</span><br><span class="line">chmod u=rwx aa    aa文件的用户权限改为所有权限(读+写+执行)</span><br><span class="line"></span><br><span class="line">chmod 777 -R aa    给当前文件和子文件都给上权限</span><br><span class="line">另一种表现方式：</span><br><span class="line">chmod 755 aa      aa文件的属主权限是rwx，属组和其他人是rx</span><br><span class="line">chmod 644 aa      aa文件的属主权限是rw，属组和其他人是r</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown 用户名 文件名      改变文件属主</span><br><span class="line">chown user1 aa         user1必须存在</span><br><span class="line">chown user1:user1 aa   改变属主同时改变属组</span><br></pre></td></tr></table></figure>
<h3 id="用户操作"><a href="#用户操作" class="headerlink" title="用户操作"></a>用户操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useradd 用户名        功能描述：添加用户</span><br><span class="line">userdel -r  用户名    功能描述： 连同家目录一起删除用户</span><br><span class="line">id -u 检测当前用户的UID</span><br><span class="line"></span><br><span class="line">passwd 用户名         功能描述：设定用户密码</span><br></pre></td></tr></table></figure>
<h3 id="查找命令"><a href="#查找命令" class="headerlink" title="查找命令"></a>查找命令</h3><p>whereis     ls               查找命令所在位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">find 查找位置 -name 文件名</span><br><span class="line">find / -name aabbcc    查找/目录下名为 aabbcc的文件</span><br><span class="line"></span><br><span class="line">更多选项：</span><br><span class="line">    -name 文件名      按照文件名查找</span><br><span class="line">    -user 用户名      按照属主用户名查找文件</span><br><span class="line">    -group 组名       按照属组组名查找文件</span><br><span class="line">    -nouser          找没有属主的文件 (除了这三个文件：/proc、/sys、/mnt/cdrom)</span><br><span class="line">    -size            按照文件大小k M  如：find / -size +50k</span><br><span class="line">    -type            按照文件类型查找(f=普通  d=目录  l=链接)</span><br><span class="line">    -perm            按照权限查找  如：find /root -perm 644</span><br><span class="line">    -iname           按照文件名查找，不区分大小写</span><br><span class="line">格式  </span><br><span class="line">find   /    -name   index.html</span><br><span class="line">find   /   -user   python</span><br><span class="line">find   /   -group   python</span><br><span class="line">find  /    -nouser</span><br><span class="line">find  /  -type     f</span><br><span class="line">find   /  -perm     777</span><br><span class="line">find / -size +10M -a -size -20M  -exec rm -rf  &#123;&#125; \;</span><br><span class="line">find / -size +10M -a -size -20M  -ok   rm -rf  &#123;&#125; \;</span><br><span class="line">exec  直接执行不提示     OK  提示危险操作</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grep 选项 &apos;字串&apos; 查找路径</span><br><span class="line">grep  &apos;字串&apos;    路径</span><br><span class="line">grep -i &quot;root&quot; /etc/passwd</span><br><span class="line">    -v       反向选择</span><br><span class="line">    -i       忽略大小写</span><br><span class="line">    -n       显示行号</span><br></pre></td></tr></table></figure>
<h3 id="管道符"><a href="#管道符" class="headerlink" title="管道符"></a>管道符</h3><p> |   连接命令</p>
<p>ls   -l   /etc/    |   more      分屏显示etc里面的目录和文件</p>
<p>cat  -n  install.log   |   grep  “zip”       查看文档显示行号并且查找‘zip’字符</p>
<h3 id="压缩和解压"><a href="#压缩和解压" class="headerlink" title="压缩和解压"></a>压缩和解压</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tar.gz    </span><br><span class="line">tar  -zcvf       p1.tar.gz     test1.py  install.log    压缩文件</span><br><span class="line">tar   -zxvf     p1.tar.gz    解压缩  </span><br><span class="line">tar  -ztvf    p1.tar.gz  查看不解压</span><br><span class="line">tar   -zxvf   p1.tar.gz   -C   txt     定向解压缩</span><br><span class="line">tar -zcPf   p1.tar.gz test1.py    压缩文件  </span><br><span class="line">-P 保留备份文件的原有权限和属性。常用于备份</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.tar.bz2</span><br><span class="line">tar  -jcvf      txt.tar.bz2    txt    压缩目录</span><br><span class="line">tar  -jxvf    txt.tar.bz2   解压缩</span><br><span class="line">tar  -jtvf    txt.tar.bz2    查看不解压</span><br><span class="line">tar   -jxvf    txt.tar.bz2   -C   /tmp    定向解压缩</span><br></pre></td></tr></table></figure>
<h3 id="关机重启"><a href="#关机重启" class="headerlink" title="关机重启"></a>关机重启</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">shutdown  -h  now     现在关机 </span><br><span class="line">init  0  关机</span><br><span class="line">shutdown   -r   now    重启系统 </span><br><span class="line">reboot   重启系统 </span><br><span class="line">init  6  重启</span><br></pre></td></tr></table></figure>
<h3 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. 物理连接    2.手动挂载  3.识别设备使用</span><br><span class="line"></span><br><span class="line">   mount     光驱设备名   （/dev/sr0    /dev/cdrom）     挂载点  /media   /mnt  (手动建立挂载点      mkdir  /mnt/cdrom)</span><br><span class="line">   </span><br><span class="line">   mount   /dev/sr0    /media</span><br><span class="line">   cd  /media/</span><br><span class="line">1. 卸载    umount </span><br><span class="line">   umount  /dev/sr0   </span><br><span class="line">   umount  /media   注意：退出挂载目录，才能卸载</span><br><span class="line">fdisk  -l    查看设备名</span><br><span class="line">mount -t iso9660 /dev/cdrom /mnt/cdrom</span><br></pre></td></tr></table></figure>
<h3 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ping     测试网络连通性</span><br><span class="line">ping   -c   5   192.168.2.222  </span><br><span class="line">ifconfig     查看网络设备    Linux  </span><br><span class="line">ipconfig        windows  </span><br><span class="line">ipconfig   /all</span><br></pre></td></tr></table></figure>
<h2 id="vim操作"><a href="#vim操作" class="headerlink" title="vim操作"></a>vim操作</h2><p><img src="C:\Users\Administrator\Desktop\图片1.png" alt="图片1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">vim编辑器</span><br><span class="line">全屏幕纯文本编辑器</span><br><span class="line">vi -&gt; vim (加强版)</span><br><span class="line"></span><br><span class="line">三种模式： </span><br><span class="line">命令模式                插入模式                 末行模式</span><br><span class="line">                       a   i   o  s             Shitft + : </span><br><span class="line">                         ESC</span><br><span class="line">a  追加   i 插入  o 打开  s 删除当前字符插入 </span><br><span class="line">:wq  保存退出  :w 保存  :q 退出</span><br><span class="line">:q! 不保存退出  :wq! 强制保存退出（root）</span><br><span class="line">vim   test1.py       命令模式</span><br><span class="line">vim   install.log </span><br><span class="line"></span><br><span class="line">光标移动     h  j   k   l             :n   行号   :300      gg  光标移动到第一行   G 移动最后一行</span><br><span class="line">设置行号  :set nu    取消行号  :set nonu            </span><br><span class="line">复制  yy      复制多行  nyy    </span><br><span class="line">粘贴    p   </span><br><span class="line">删除(剪切)单字符   x     删除多字符  nx </span><br><span class="line">删除（剪切）行  dd      删除多行 ndd            </span><br><span class="line">dG   从当前行到最后全部删除</span><br><span class="line">撤销  u        反撤销  ctrl + r</span><br><span class="line">颜色开关（语法高亮） :syntax off  关闭   :syntax  on   开启 </span><br><span class="line"></span><br><span class="line">手动建立配置文件</span><br><span class="line">vim   ~/.vimrc        </span><br><span class="line"> 可以写   set nu    让每个文件都显示行号</span><br><span class="line"></span><br><span class="line">查找功能</span><br><span class="line">vim  install.log </span><br><span class="line">/i686   N  向下    n 向上   查找i686 </span><br><span class="line">/root    查找root </span><br><span class="line"></span><br><span class="line">替换功能</span><br><span class="line">vim  install.log</span><br><span class="line">:%s/要替换内容/替换后内容/g    全文替换</span><br><span class="line">:1,20s/要替换内容/替换后内容/g  范围替换</span><br><span class="line"></span><br><span class="line">注释   #  </span><br><span class="line">:21,30s/^/#/g    添加注释       :25,30s/^#//g   取消注释</span><br><span class="line">:60,70s/^/\/\//g   添加注释      :65,70s/^\/\///g  取消注释</span><br></pre></td></tr></table></figure>
<h2 id="软件包安装"><a href="#软件包安装" class="headerlink" title="软件包安装"></a>软件包安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">一 	软件包分类</span><br><span class="line">源码包:	</span><br><span class="line">        优点：	特点	开源	自由定制</span><br><span class="line">		缺点：	编译时间长，一旦报错，很难解决</span><br><span class="line">二进制包:rpm包</span><br><span class="line">		优点：安装速度快		简易</span><br><span class="line">		缺点：自定义性差		依赖性</span><br><span class="line">				a----&gt;b----&gt;c		树形依赖</span><br><span class="line">				a---b----c---a		环形依赖			</span><br><span class="line">库文件依赖		www.rpmfind.net</span><br></pre></td></tr></table></figure>
<h3 id="rpm手动安装"><a href="#rpm手动安装" class="headerlink" title="rpm手动安装"></a>rpm手动安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">手动RPM命令安装</span><br><span class="line">		1	包命名</span><br><span class="line">			包名-版本号-发布次数-适合linux系统-硬件平台.rpm</span><br><span class="line">	    2	安装</span><br><span class="line">			rpm  -ivh  包名（绝对路径）</span><br><span class="line">				-i  安装	-v	显示详细信息		-h 显示进度</span><br><span class="line">			rpm  -Uvh  包名</span><br><span class="line">				-U  升级</span><br><span class="line">		3	卸载</span><br><span class="line">			rpm  -e  软件名	</span><br><span class="line">		4	查询</span><br><span class="line">			rpm  -q  软件名		        查询包是否安装</span><br><span class="line">			rpm  -qa  | grep  httpd 		显示所有安装包</span><br><span class="line">			rpm  -qi  软件名	查询包的信息		-p  未安装包</span><br><span class="line">			rpm  -qip 包名	查询没有安装包的信息</span><br><span class="line">				-i	information</span><br><span class="line">			rpm  -ql  软件名	查询包中文件的安装位置</span><br><span class="line">			rpm  -qlp  包名	查询没有安装的包，打算安装位置</span><br><span class="line">					-l	list</span><br><span class="line">			rpm  -qf  系统文件名		查询系统文件属于哪个包</span><br></pre></td></tr></table></figure>
<h3 id="yum安装"><a href="#yum安装" class="headerlink" title="yum安装"></a>yum安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">yum  -y  install  软件名		 安装			-y  自动回答yes</span><br><span class="line">yum  -y  remove   软件名	     删除</span><br><span class="line">yum  -y  update   软件名        升级</span><br><span class="line">yum  list			       查询所有可以安装的包</span><br><span class="line">光盘作为yum源：</span><br><span class="line">	1	cd  /etc/yum.repos.d/</span><br><span class="line">		mv  CentOS-Base.repo  CentOS-Base.repo.bak</span><br><span class="line"></span><br><span class="line">	2	mount /dev/sr0     /mnt/cdrom</span><br><span class="line">	3	vim  /etc/yum.repos.d/CentOS-Media.repo</span><br><span class="line">			baseurl=file:///mnt/cdrom/	指定yum源位置</span><br><span class="line">			enabled=1					yum源文件生效</span><br><span class="line">			gpgcheck=0					rpm验证不生效</span><br><span class="line">yum  -y  install  gcc 		(gcc是c语言编译器，不装gcc，源码包不能安装)</span><br></pre></td></tr></table></figure>
<h3 id="源码包安装-apache"><a href="#源码包安装-apache" class="headerlink" title="源码包安装(apache)"></a>源码包安装(apache)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">！！！  必须先安装gcc  !</span><br><span class="line">apache解析php的效率特别高</span><br><span class="line">1	远程传输工具传输apache到linux。</span><br><span class="line">				httpd-2.2.29.tar.gz</span><br><span class="line">2	安装</span><br><span class="line">	1）解压</span><br><span class="line">	2） cd  解压目录</span><br><span class="line">	3）  查看安装文档</span><br><span class="line">	     INSTALL		README</span><br><span class="line">	4）编译前准备</span><br><span class="line">		./configure  --prefix=/usr/local/apache2</span><br><span class="line">		功能：</span><br><span class="line">			1	检测系统环境，生成Makefile</span><br><span class="line">			2	定义软件选项</span><br><span class="line">	5)编译			</span><br><span class="line">		make</span><br><span class="line">	6）编译安装</span><br><span class="line">		make  install</span><br><span class="line">		报错判断：</span><br><span class="line">			第一：安装过程是否停止</span><br><span class="line">			第二：注意error  warning  no  等错误报警</span><br><span class="line">3	启动</span><br><span class="line">	/usr/local/apache2/bin/apachectl  start</span><br><span class="line">	/usr/local/apache2/bin/apachectl  stop    </span><br><span class="line">4	删除</span><br><span class="line">	直接删除安装目录</span><br></pre></td></tr></table></figure>
<h2 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h2><h3 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">一	用户管理命令		</span><br><span class="line">		用户信息文件：	/etc/passwd</span><br><span class="line">	超级用户  uid 0</span><br><span class="line">	普通不需要登录， uid 500 开始 人为用户（系统服务使用）</span><br><span class="line">		影子文件：	/etc/shadow</span><br><span class="line">		组信息文件：	/etc/group</span><br><span class="line">	1	添加用户</span><br><span class="line">		useradd  用户名		</span><br><span class="line">		useradd  选项  用户名</span><br><span class="line">useradd   -g    python   f1     添加f1 同时修改初始组为python</span><br><span class="line">useradd   -G    python   f2    添加f2  同时添加f2为python组的附加组员</span><br><span class="line">useradd   -c    &quot;pyer&quot;    f3    添加f3用户 同时注释</span><br><span class="line">useradd    -d    /home/four    f4    添加用户f4同时修改家目录名</span><br><span class="line">useradd    -s    /bin/nologin   f5    添加用户f5同时禁止登录</span><br><span class="line">	2	设定密码			</span><br><span class="line">		passwd	用户名</span><br><span class="line">		passwd			改变当前用户密码</span><br><span class="line">		passwd   root		改变root密码</span><br><span class="line">	3	删除用户				</span><br><span class="line">		userdel  -r  用户名</span><br><span class="line">		-r  连带家目录一起删除</span><br><span class="line">	4	添加组				</span><br><span class="line">		groupadd  组名</span><br><span class="line">	5	删除组				</span><br><span class="line">		groupdel  组名		</span><br><span class="line">	6	把已经存在的用户加入组			</span><br><span class="line">		gpasswd  -a  用户名  组名		用户加入组</span><br><span class="line">		gpasswd  -d  用户名  组名		把用户从组中删除</span><br></pre></td></tr></table></figure>
<h3 id="用户相关命令（id和切换）"><a href="#用户相关命令（id和切换）" class="headerlink" title="用户相关命令（id和切换）"></a>用户相关命令（id和切换）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id   用户名     查看用户相关ID号 ，显示用户的UID，初始组和附加组</span><br><span class="line">su  - 用户名    切换用户身份</span><br></pre></td></tr></table></figure>
<h3 id="ACL权限"><a href="#ACL权限" class="headerlink" title="ACL权限"></a>ACL权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1.给特殊身份的人设置权限 </span><br><span class="line">  getfacl  文件名  查看文件的acl权限</span><br><span class="line">  setfacl   -m   u:用户名:权限   文件名    设置用户的ACL权限</span><br><span class="line">  ls -l    查看有没有 +</span><br><span class="line">  getfacl   test1.py  </span><br><span class="line"></span><br><span class="line">  setfacl   -m   g:组名:权限     文件名     设置组的ACL权限 </span><br><span class="line">  getfacl 文件名    查看权限</span><br><span class="line"></span><br><span class="line">  setfacl  -x  u:f2   test1.py   删除f2用户ACL权限</span><br><span class="line">  setfacl  -b  文件名   删除所有ACL权限</span><br><span class="line"></span><br><span class="line">2.对目录设置ACL权限</span><br><span class="line">  1）对目录本身设置ACL权限</span><br><span class="line">  setfacl  -m  u:f2:rwx    目录名   </span><br><span class="line"></span><br><span class="line">  2）对目录和目录内文件设置ACL权限 </span><br><span class="line">  setfacl  -m  u:f2:rwx   -R   目录名     递归设置 </span><br><span class="line">  </span><br><span class="line">  3）对未来建立的文件设置ACL权限 </span><br><span class="line">  setfacl  -m   d:u:f2:rwx    -R   目录名</span><br><span class="line">  -R  递归</span><br><span class="line"> </span><br><span class="line"> ！！！ 如果给目录赋予ACL权限，2和3 命令都要输入 ！！！</span><br></pre></td></tr></table></figure>
<h3 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls   &gt;  name.list</span><br><span class="line">ls  -l  &gt; name.list   覆盖 </span><br><span class="line">ls      &gt;&gt;   name.list   追加</span><br></pre></td></tr></table></figure>
<h2 id="进程和服务管理"><a href="#进程和服务管理" class="headerlink" title="进程和服务管理"></a>进程和服务管理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">进程管理三个主要任务：</span><br><span class="line">		判断服务器健康状态</span><br><span class="line">		查看所有正在运行的进程</span><br><span class="line">		强制终止进程</span><br></pre></td></tr></table></figure>
<h3 id="进程查看系统运行状况"><a href="#进程查看系统运行状况" class="headerlink" title="进程查看系统运行状况"></a>进程查看系统运行状况</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">1	ps  aux		查看当前系统所有运行的进程</span><br><span class="line">	-a 	显示前台所有进程</span><br><span class="line">	-u	显示用户名</span><br><span class="line">	-x	显示后台进程</span><br><span class="line"></span><br><span class="line">	user： 用户名</span><br><span class="line">	pid：	进程id。PID		 init  系统启动的第一个进程</span><br><span class="line">	%CPU	cpu占用百分比</span><br><span class="line">	%MEM	内存占用百分比</span><br><span class="line">	VSZ	虚拟内存占用量		KB</span><br><span class="line">	RSS	固定内存占有量</span><br><span class="line">	tty	登录终端		本地终端		远程终端		</span><br><span class="line">	stat	状态	S：睡眠 D：不可唤醒	R：运行	  T：停止  </span><br><span class="line">	start	进程触发时间</span><br><span class="line">	time  	占用cpu时间</span><br><span class="line">	command	 进程本身</span><br><span class="line">2	pstree		 查看进程树</span><br><span class="line">3	top  （动态查看）</span><br><span class="line">	第一行：	系统当前时间		系统持续时间		登录用户		1,5,15分钟之前的平均负载</span><br><span class="line">	第二行：进程总数</span><br><span class="line">	第三行：CPU占用率		%id		空闲百分比</span><br><span class="line">	第四行：内存使用：	总共		使用		空闲		缓存</span><br><span class="line">	第五行：swap使用</span><br><span class="line">	操作命令	  M	 内存排序</span><br><span class="line">				P	CPU排序</span><br><span class="line">				q	退出</span><br><span class="line">4    w	查看系统运行情况和登录用户（静态查看）</span><br><span class="line">5	进程管理		终止进程</span><br><span class="line">	kill  -9  PID		结束单个进程</span><br><span class="line">	-9  强制</span><br><span class="line">	killall  -9  进程名		终止进程树</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	pkill  -9  -t  终端号	把某个终端登录的用户踢出</span><br><span class="line">	例：pkill  -9  -t tty1		把本地登录终端1登录用户踢出</span><br></pre></td></tr></table></figure>
<h3 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1	分类</span><br><span class="line">	1）系统默认安装的服务		安装二进制包的服务</span><br><span class="line">	2）源码包安装的服务</span><br><span class="line"></span><br><span class="line">（一）系统默认安装的服务</span><br><span class="line">	1	确定服务分类</span><br><span class="line">		chkconfig  --list		查看服务的自启动状态</span><br><span class="line">		运行级别：0-6</span><br><span class="line">		0	关机</span><br><span class="line">		1	单用户模式</span><br><span class="line">		2	不完全多用户，不包含NFS服务</span><br><span class="line">		3	完全多用户	字符界面</span><br><span class="line">		4	未分配</span><br><span class="line">		5	图形界面</span><br><span class="line">		6	重启</span><br><span class="line">	  init  0	关机			init  6	重启</span><br><span class="line">	  runlevel			查询系统当前运行级别</span><br><span class="line">	  vi  /etc/inittab</span><br><span class="line">	  id:3:initdefault:		定义系统默认运行级别</span><br><span class="line">	2	系统默认安装的服务器管理		</span><br><span class="line">		1）启动</span><br><span class="line">			/etc/rc.d/init.d/服务  start|stop|restart|status</span><br><span class="line">			例：	/etc/rc.d/init.d/httpd  start</span><br><span class="line">			service   服务名   start|stop|restart|status</span><br><span class="line">		2)自启动	</span><br><span class="line">		  chkconfig  --list  查看</span><br><span class="line">		  chkconfig  --level  245  服务名  on|off </span><br><span class="line"> ！！！ 245 都可以   尽量不要写3，因为是系统服务 ！！！</span><br><span class="line">		推荐用下面这种方法</span><br><span class="line">			vi  /etc/rc.local----&gt;/etc/rc.d/rc.local</span><br><span class="line">			/etc/rc.d/init.d/httpd  start</span><br><span class="line">（二）源码包安装的服务</span><br><span class="line">	1）手动管理  绝对路径启动   不可以状态查询</span><br><span class="line">		/usr/local/apache2/bin/apachectl  start</span><br><span class="line">	2)开机自启动</span><br><span class="line">		vi /etc/rc.local</span><br><span class="line">		/usr/local/apache2/bin/apachectl  start</span><br></pre></td></tr></table></figure>
<h3 id="计划任务"><a href="#计划任务" class="headerlink" title="计划任务"></a>计划任务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">crontab  -e		编辑定时任务</span><br><span class="line">		* * * * *  命令（命令一般是绝对路径）</span><br><span class="line">		第一个*：一小时中第几分钟	   0-59</span><br><span class="line">		第二个：一天中第几个小时	   0-23</span><br><span class="line">		第三个：一个月中第几天		    1-31</span><br><span class="line">		第四个：一年第几个月			1-12</span><br><span class="line">		第五个：一周中星期几			0-6		</span><br><span class="line">例：		</span><br><span class="line">	5   3  *  5,7,10  *  命令   5,7和10月每天三点5分执行</span><br><span class="line">	*/10  *  *  *  1-3   命令   星期一到星期三每隔10分钟执行</span><br><span class="line">命令： 开启/关闭服务   service sshd start     </span><br><span class="line">					service sshd stop                               /usr/local/apache2/bin/apachectl restart</span><br><span class="line">       备份文件/目录   cp  -r   /root/bbs   /tmp</span><br><span class="line">crontab  -l		查看系统定时任务</span><br><span class="line">crontab  -r  	删除所有定时任务</span><br><span class="line"></span><br><span class="line">注意事项：</span><br><span class="line">选项都不能为空，必须填入，不知道的值使用通配符*表示任何时间 </span><br><span class="line">每个时间字段都可以指定多个值，不连续的值用,间隔，连续的值用-间隔</span><br><span class="line">间隔固定时间执行书写为*/n格式 </span><br><span class="line">命令应该给出绝对路径 </span><br><span class="line">	星期几何第几天不能同时出现</span><br><span class="line">	最小时间范围是分钟，最大时间范围是月</span><br></pre></td></tr></table></figure>
<h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">IP设置 </span><br><span class="line"></span><br><span class="line">ifconfig   eth0   192.168.2.251     临时IP        </span><br><span class="line">setup        设置永久IP  关闭防火墙</span><br><span class="line">service   network   restart      (/etc/rc.d/init.d/network  restart)    重启网络服务</span><br><span class="line"></span><br><span class="line">网卡信息文件  vim  /etc/sysconfig/network-scripts/ifcfg-eth0   </span><br><span class="line">  8  IPADDR=192.168.2.251     IP地址</span><br><span class="line">  9  NETMASK=255.255.255.0      掩码</span><br><span class="line"> 10  GATEWAY=192.168.2.1        网关</span><br><span class="line">     BOOTPROTO=none			是否自动获取IP。none：不生效	static：手动	 dhcp：动态获取IP</span><br><span class="line">     DEVICE=eth0				网卡设备名</span><br><span class="line">     ONBOOT=yes					    网卡开机启动</span><br><span class="line">     </span><br><span class="line">主机名修改 </span><br><span class="line">  hostname    查看主机名 </span><br><span class="line">  hostname   lampbrother   临时修改主机名</span><br><span class="line">  vim  /etc/sysconfig/network      永久修改主机名</span><br><span class="line">     HOSTNAME=lampbrother</span><br><span class="line">     </span><br><span class="line">DNS设置</span><br><span class="line">  setup  设置DNS</span><br><span class="line">  vim  /etc/resolv.conf</span><br><span class="line">  nameserver  114.114.114.114</span><br><span class="line"></span><br><span class="line">网络命令</span><br><span class="line">  vim /etc/services   查看网络端口</span><br><span class="line">  ifup   eth0   开启网卡</span><br><span class="line">  ifdown  eth0   关闭网卡</span><br><span class="line">  netstat  -an   查看网络状态</span><br><span class="line">  netstat  -tlun   查看查看tcp和udp协议监听端口</span><br><span class="line">  	t  tcp   u  udp   l  listen </span><br><span class="line">  netstat  -rn    查看网关（默认路由default）</span><br><span class="line">  route  del   default   gw   192.168.2.1   删除默认网关</span><br><span class="line">  route   add  default   gw   192.168.2.1  添加默认网关</span><br><span class="line">  ping  192.168.2.250       ICMP协议   测试网络连通协议    </span><br><span class="line">  ping   -c  5  -s   10000   192.168.2.250   -s   发送数据大小</span><br></pre></td></tr></table></figure>
<h2 id="VSFTP服务"><a href="#VSFTP服务" class="headerlink" title="VSFTP服务"></a>VSFTP服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">一	文件服务器简介</span><br><span class="line">	ftp：在内网和公网使用。	服务器：windows，linux	客户端：		windows，linux</span><br><span class="line">	服务器 用 s 表示    客户端用 c 表示</span><br><span class="line">1	ftp软件</span><br><span class="line">	linux：	wu-ftp		早期，安全一般</span><br><span class="line">	proftp		增强ftp工具</span><br><span class="line">	vsftp		安全，强大</span><br><span class="line">	windows	IIS		windows下网页搭建服务，可以搭建ftp服务</span><br><span class="line">	Serv-U		专用ftp服务器</span><br><span class="line">2	原理</span><br><span class="line">	开启 	21  	命令传输端口</span><br><span class="line">	20	    数据传输端口</span><br><span class="line">3	ftp的用户</span><br><span class="line">	1）ftp允许登录用户	就是系统用户	使用密码也是系统密码</span><br><span class="line">					上传位置：/home/家目录</span><br><span class="line">	2）匿名用户	anonymous	密码：  空  </span><br><span class="line">					下载位置：/var/ftp/pub</span><br><span class="line">二	安装</span><br><span class="line">	mount /dev/sr0 /media</span><br><span class="line">	cd /media/Packages/</span><br><span class="line">	yum -y install  vsftpd  </span><br><span class="line">三 	相关文件（了解）</span><br><span class="line">	/etc/vsftpd/ftpusers	用户访问控制文件(不是必要步骤)</span><br><span class="line">	/etc/vsftpd/vsftpd.conf		配置文件</span><br><span class="line">四	配置文件配置</span><br><span class="line">      vim    /etc/vsftpd/vsftpd.conf</span><br><span class="line">    1主机相关配置</span><br><span class="line">		listen_port=21			         监听端口</span><br><span class="line">		connect_from_port_20=YES		数据传输端口</span><br><span class="line">		ftpd_banner=				    欢迎信息</span><br><span class="line">	2	匿名用户登录			在linux下识别为  ftp  用户</span><br><span class="line">		nonymous_enable=YES			允许匿名用户登录</span><br><span class="line">	3	本地用户</span><br><span class="line">		local_enable=YES			允许系统用户登录</span><br><span class="line">		write_enable=YES			允许上传</span><br><span class="line">		local_umask=022			默认上传权限</span><br><span class="line">	4	限制用户访问目录</span><br><span class="line">		chroot_local_user=YES		所有用户限制在家目录下</span><br><span class="line">	5   关闭防火墙和selinux</span><br><span class="line">		关闭防火墙   setup</span><br><span class="line">		关闭 selinux</span><br><span class="line">		    vim  /etc/selinux/config</span><br><span class="line">		    SELINUX = disabled	</span><br><span class="line">	6  重启生效</span><br><span class="line">	   reboot   重启</span><br><span class="line">五	ftp客户端使用</span><br><span class="line">	1、使用windows窗口</span><br><span class="line">		ftp://用户名@IP</span><br><span class="line">		匿名用户可以不用用户名和密码</span><br><span class="line">		ftp://@ip</span><br><span class="line">	2、使用第三方工具登录</span><br><span class="line">		FileZilla</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">实验  限制用户目录权限</span><br><span class="line">vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">96   chroot_local_user = YES</span><br><span class="line">service vdftpd restart   重启服务</span><br><span class="line">FileZilla  登录</span><br></pre></td></tr></table></figure>
<h2 id="Samba服务器"><a href="#Samba服务器" class="headerlink" title="Samba服务器"></a>Samba服务器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">文件共享服务</span><br><span class="line">windows  -&gt;  linux </span><br><span class="line">（一）端口</span><br><span class="line">	smbd：为clinet提供资源访问		tcp  139  445</span><br><span class="line">	nmbd：提供netbios主机名解析		udp  137  138</span><br><span class="line">（二）安装 ISO</span><br><span class="line">	mount /dev/sr0  /media</span><br><span class="line">	yum -y install samba</span><br><span class="line">	samba-common		主要配置文件</span><br><span class="line">	samba-client		客户端文件</span><br><span class="line">(三)修改配置文件</span><br><span class="line">	安全级别     share     无密码</span><br><span class="line">		        user      添加samba用户设置samba密码   </span><br><span class="line">		    	server    需要服务器做解析</span><br><span class="line">		    	</span><br><span class="line">实验1： 安全级别  share    共享目录 /movie    </span><br><span class="line">    1）建立目录/movie</span><br><span class="line">       mkdir   /movie</span><br><span class="line">       chmod  777  /movie</span><br><span class="line">    2）修改配置文件</span><br><span class="line">    vim  /etc/samba/smb.conf</span><br><span class="line">    101         security = share</span><br><span class="line">    263 [movie]    （这步是添加共享文件）</span><br><span class="line">    264         comment = dianying   （说明）</span><br><span class="line">    265         path = /movie		（路径）</span><br><span class="line">    266         browseable = yes	 （目录对用户可见）</span><br><span class="line">    267         guest ok = yes		  （访问）</span><br><span class="line">    268         writable = yes		（可写）</span><br><span class="line">    3）启动服务  测试</span><br><span class="line">    关闭防火墙  关闭selinux</span><br><span class="line">     vim  /etc/selinux/config</span><br><span class="line">		 SELINUX = disabled	</span><br><span class="line">    service  smb  start</span><br><span class="line">    service  nmb  start</span><br><span class="line">    netstat  -tlun   （查看端口是否出现）</span><br><span class="line">  测试     </span><br><span class="line">      \\192.168.2.251</span><br><span class="line">  网络驱动映射</span><br><span class="line">  	  进入共享文件，右键，网络驱动映射，就可以在我的电脑里查看信息</span><br><span class="line">  	 </span><br><span class="line">实验2：安全级别  user     共享  /pub  所有用户能访问上传     			/soft  只有aa能访问上传</span><br><span class="line">1）建立目录</span><br><span class="line">  mkdir  /pub</span><br><span class="line">  mkdir  /soft</span><br><span class="line">  chmod  777  /pub</span><br><span class="line">  chmod  700 /soft</span><br><span class="line">  useradd  aa</span><br><span class="line">  passwd  aa</span><br><span class="line">  chown    aa   /soft</span><br><span class="line">2）修改配置文件</span><br><span class="line">  vim  /etc/samba/smb.conf</span><br><span class="line">  101         security = user</span><br><span class="line">  263 [pub]   </span><br><span class="line">  264         comment = public</span><br><span class="line">  265         path = /pub</span><br><span class="line">  266         browseable = yes</span><br><span class="line">  267         writable = yes</span><br><span class="line">  268 </span><br><span class="line">  269 [soft]</span><br><span class="line">  270         comment = software</span><br><span class="line">  271         path = /soft</span><br><span class="line">  272         browseable = yes</span><br><span class="line">  273         writable = yes</span><br><span class="line">3）添加samba用户</span><br><span class="line">  smbpasswd   -a    aa</span><br><span class="line">  smbpasswd   -a    f1</span><br><span class="line">  pdbedit  -L    查看samba用户</span><br><span class="line">4）重启服务  测试</span><br><span class="line">  service  smb  restart</span><br><span class="line">  service  nmb  restart</span><br><span class="line">测试      f1 登录     </span><br><span class="line">    windows 界面登录 </span><br><span class="line">	    CMD   net  use  *   /del    删除连接缓存</span><br><span class="line">	    aa  登录</span><br></pre></td></tr></table></figure>
<h2 id="SSH安全登录（必会）"><a href="#SSH安全登录（必会）" class="headerlink" title="SSH安全登录（必会）"></a>SSH安全登录（必会）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">联机加密工具   非对称钥匙对加密</span><br><span class="line">默认（不用改）：   安装	openssh</span><br><span class="line">				开机自启 service  sshd restart</span><br><span class="line">配置文件     vim  /etc/ssh/sshd.config</span><br><span class="line"></span><br><span class="line">远程连接</span><br><span class="line">  ssh    root@192.168.2.251  </span><br><span class="line"></span><br><span class="line">网络复制  scp   </span><br><span class="line">  scp   root@192.168.2.140:/root/httpd-2.2.29.tar.gz    /root     下载文件 </span><br><span class="line">  scp  hello.list   root@192.168.2.140:/root/      上传文件</span><br><span class="line">  scp   -r   root@192.168.2.140:/etc/     /root/    下载目录</span><br><span class="line">  scp  -r   /etc   root@192.168.2.140:/root/      上传目录 </span><br><span class="line">SSH密钥登录</span><br><span class="line">   ssh-keygen -t  rsa -P &apos;&apos;   (必须要写)</span><br><span class="line">   -P  表示密码</span><br><span class="line">   cd .ssh  进入自动生成的隐藏目录</span><br><span class="line">   cp  id_rsa.pub   authorized_keys  必须要写（文件49行要求）</span><br><span class="line">   chmod 600    authorized_keys</span><br><span class="line">客户端:</span><br><span class="line">  下载私钥      登录测试</span><br><span class="line">  设置 /etc/ssh/sshd_config  禁止使用密码登录（慎用！！）</span><br><span class="line">  66 PasswordAuthentication no</span><br><span class="line">  重启sshd服务</span><br><span class="line">  service  sshd restart</span><br></pre></td></tr></table></figure>
<h2 id="lamp环境搭建"><a href="#lamp环境搭建" class="headerlink" title="lamp环境搭建"></a>lamp环境搭建</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1配置yum源</span><br><span class="line">mount /dev/sr0 /media</span><br><span class="line"> vim /etc/yum.repos.d/CentOS-Media.repo </span><br><span class="line">[c6-media] </span><br><span class="line">name=CentOS-$releasever - Media</span><br><span class="line">baseurl=file:///media/   * 修改为光盘挂载点</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1  * 改为1意为启用</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</span><br><span class="line">2）剪切/etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">  mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak</span><br><span class="line">3）依次安装gcc、gcc-c++</span><br><span class="line"> yum -y install gcc  gcc-c++</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">关闭防火墙 和 selinux</span><br><span class="line">setup    或</span><br><span class="line">iptables  -F</span><br><span class="line">iptables  -X</span><br><span class="line">iptables  -Z</span><br><span class="line">vim /etc/selinux/config</span><br><span class="line">	SELINUX=disabled</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">复制源码包 解压缩</span><br><span class="line">mv  lamp    /lamp</span><br><span class="line">vim   tar.sh</span><br><span class="line">    cd /lamp</span><br><span class="line">    /bin/ls *.tar.gz &gt; ls.list</span><br><span class="line">     	for TAR in `cat ls.list`</span><br><span class="line">     do</span><br><span class="line">    		/bin/tar -zxf $TAR</span><br><span class="line">     done</span><br><span class="line">    /bin/rm ls.list</span><br><span class="line">    </span><br><span class="line">chmod  777  tar.sh</span><br></pre></td></tr></table></figure>
<p>./tar.sh    查看磁盘空间（产看安装软件有没有足够的空间）</p>
<h3 id="安装辅助软件包"><a href="#安装辅助软件包" class="headerlink" title="安装辅助软件包"></a>安装辅助软件包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">安装libxml2</span><br><span class="line">yum -y install python-devel			必须安装</span><br><span class="line"></span><br><span class="line"> cd /lamp/libxml2-2.9.1</span><br><span class="line"> ./configure --prefix=/usr/local/libxml2/</span><br><span class="line"> make </span><br><span class="line"> make install</span><br><span class="line"> </span><br><span class="line"> yum  install  -y  libxml2-devel	如果报错，安装此包后再尝试安装</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装libmcrypt</span><br><span class="line">cd /lamp/libmcrypt-2.5.8</span><br><span class="line"> ./configure --prefix=/usr/local/libmcrypt/</span><br><span class="line"> make </span><br><span class="line"> make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装libltdl</span><br><span class="line">cd /lamp/libmcrypt-2.5.8/libltdl</span><br><span class="line"> ./configure --enable-ltdl-install</span><br><span class="line"> make</span><br><span class="line"> make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装mhash</span><br><span class="line">cd /lamp/mhash-0.9.9.9</span><br><span class="line">./configure </span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">安装mcrypt</span><br><span class="line">cd /lamp/mcrypt-2.6.8</span><br><span class="line">LD_LIBRARY_PATH=/usr/local/libmcrypt/lib:/usr/local/lib  \</span><br><span class="line">./configure --with-libmcrypt-prefix=/usr/local/libmcrypt</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装zlib</span><br><span class="line">cd /lamp/zlib-1.2.3			</span><br><span class="line">./configure</span><br><span class="line"> make</span><br><span class="line"> make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装libpng</span><br><span class="line"> cd /lamp/libpng-1.2.31</span><br><span class="line"> ./configure --prefix=/usr/local/libpng</span><br><span class="line"> make</span><br><span class="line"> make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">安装jpeg6</span><br><span class="line"> mkdir /usr/local/jpeg6	</span><br><span class="line"> mkdir /usr/local/jpeg6/bin</span><br><span class="line"> mkdir /usr/local/jpeg6/lib</span><br><span class="line"> mkdir /usr/local/jpeg6/include</span><br><span class="line"> mkdir -p /usr/local/jpeg6/man/man1</span><br><span class="line"> ###目录必须手工建立</span><br><span class="line">  cd /lamp/jpeg-6b</span><br><span class="line"> ./configure --prefix=/usr/local/jpeg6/ --enable-shared --enable-static</span><br><span class="line"> make	</span><br><span class="line"> make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">安装freetype</span><br><span class="line"> cd /lamp/freetype-2.3.5</span><br><span class="line">./configure --prefix=/usr/local/freetype/</span><br><span class="line"> make</span><br><span class="line"> make install</span><br></pre></td></tr></table></figure>
<h3 id="安装APACHE"><a href="#安装APACHE" class="headerlink" title="安装APACHE"></a>安装APACHE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cp  -r  /lamp/apr-1.4.6  /lamp/httpd-2.4.7/srclib/apr</span><br><span class="line">cp  -r  /lamp/apr-util-1.4.1  /lamp/httpd-2.4.7/srclib/apr-util</span><br><span class="line"></span><br><span class="line">cd /lamp/pcre-8.34  </span><br><span class="line">./configure &amp;&amp; make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"> cd /lamp/httpd-2.4.7</span><br><span class="line"> ./configure --prefix=/usr/local/apache2/ --sysconfdir=/usr/local/apache2/etc/ --with-included-apr --enable-so --enable-deflate=shared --enable-expires=shared --enable-rewrite=shared</span><br><span class="line"> make</span><br><span class="line"> make install</span><br><span class="line"> </span><br><span class="line"> 启动服务</span><br><span class="line"> /usr/local/apache2/bin/apachectl start</span><br><span class="line">ps  aux | grep httpd</span><br><span class="line">netstat –tlun | grep :80</span><br><span class="line"></span><br><span class="line">测试  打开浏览器   192.168.2.251   有 IT works</span><br><span class="line"></span><br><span class="line">设置开机自启动</span><br><span class="line">vim  /etc/rc.local</span><br><span class="line">/usr/local/apache2/bin/apachectl start</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">安装ncurses</span><br><span class="line">yum -y install ncurses-devel</span><br><span class="line">cd /lamp/ncurses-5.9</span><br><span class="line">./configure --with-shared --without-debug --without-ada --enable-overwrite</span><br><span class="line">make </span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#安装cmake和bison</span><br><span class="line">yum -y install cmake</span><br><span class="line">yum -y install bison</span><br></pre></td></tr></table></figure>
<h3 id="MySQL服务"><a href="#MySQL服务" class="headerlink" title="MySQL服务"></a>MySQL服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">安装服务</span><br><span class="line">yum -y install ncurses-devel</span><br><span class="line">yum -y install cmake</span><br><span class="line">yum -y install bison</span><br><span class="line"></span><br><span class="line"> groupadd mysql</span><br><span class="line"> useradd -g mysql mysql</span><br><span class="line"> </span><br><span class="line"> cd /lamp/mysql-5.5.48</span><br><span class="line">cmake  -DCMAKE_INSTALL_PREFIX=/usr/local/mysql    -DMYSQL_UNIX_ADDR=/tmp/mysql.sock  -DEXTRA_CHARSETS=all   -DDEFAULT_CHARSET=utf8    -DDEFAULT_COLLATION=utf8_general_ci    -DWITH_MYISAM_STORAGE_ENGINE=1   -DWITH_INNOBASE_STORAGE_ENGINE=1    -DWITH_MEMORY_STORAGE_ENGINE=1  -DWITH_READLINE=1    -DENABLED_LOCAL_INFILE=1   -DMYSQL_USER=mysql  -DMYSQL_TCP_PORT=3306</span><br><span class="line">make  &amp;&amp;  make  install</span><br><span class="line"></span><br><span class="line">----------------------------------------------------------</span><br><span class="line"></span><br><span class="line">配置服务</span><br><span class="line">cd /usr/local/mysql/</span><br><span class="line">chown -R mysql .</span><br><span class="line">chgrp -R mysql .</span><br><span class="line">#修改mysql目录权限</span><br><span class="line">/usr/local/mysql/scripts/mysql_install_db --user=mysql</span><br><span class="line">#创建数据库授权表，初始化数据库</span><br><span class="line">chown -R root .</span><br><span class="line">chown -R mysql data</span><br><span class="line">#修改mysql目录权限</span><br><span class="line"></span><br><span class="line">cp support-files/my-medium.cnf /etc/my.cnf</span><br><span class="line">#复制mysql配置文件</span><br><span class="line"></span><br><span class="line">二次授权</span><br><span class="line">/usr/local/mysql/scripts/mysql_install_db --user=mysql</span><br><span class="line"></span><br><span class="line">-------------------------------------------------</span><br><span class="line"></span><br><span class="line">启动MySQL服务：</span><br><span class="line">1.用原本源代码的方式去使用和启动mysql</span><br><span class="line">/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</span><br><span class="line">2.重启以后还要生效:</span><br><span class="line">vim /etc/rc.local</span><br><span class="line">/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</span><br><span class="line">3.设定mysql密码</span><br><span class="line">/usr/local/mysql/bin/mysqladmin -uroot password 123456</span><br><span class="line">	清空历史命令 	history  -c</span><br><span class="line"></span><br><span class="line"> /usr/local/mysql/bin/mysql -u root -p </span><br><span class="line"> mysql&gt; \s    查看配置</span><br><span class="line"> mysql&gt; quit  退出</span><br></pre></td></tr></table></figure>
<h3 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">yum -y install &quot;libtool*&quot;</span><br><span class="line"></span><br><span class="line">cd /lamp/php-7.0.7</span><br><span class="line">./configure --prefix=/usr/local/php/ --with-config-file-path=/usr/local/php/etc/ --with-apxs2=/usr/local/apache2/bin/apxs  --with-libxml-dir=/usr/local/libxml2/ --with-jpeg-dir=/usr/local/jpeg6/ --with-png-dir=/usr/local/libpng/ --with-freetype-dir=/usr/local/freetype/ --with-mcrypt=/usr/local/libmcrypt/   --with-mysqli=/usr/local/mysql/bin/mysql_config --enable-soap --enable-mbstring=all --enable-sockets  --with-pdo-mysql=/usr/local/mysql --with-gd   --without-pear</span><br><span class="line"></span><br><span class="line">make   &amp;&amp;  make  install</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------</span><br><span class="line">生成php.ini</span><br><span class="line">mkdir /usr/local/php/etc/</span><br><span class="line">cp /lamp/php-7.0.7/php.ini-production /usr/local/php/etc/php.ini  </span><br><span class="line"></span><br><span class="line">vim /usr/local/apache2/etc/httpd.conf</span><br><span class="line"> AddType application/x-httpd-php .php .phtml </span><br><span class="line"> AddType application/x-httpd-php-source .phps</span><br><span class="line"> </span><br><span class="line">  重启Apache服务：/usr/local/apache2/bin/apachectl stop</span><br><span class="line">				  /usr/local/apache2/bin/apachectl start</span><br><span class="line">				  </span><br><span class="line">vim /usr/local/apache2/htdocs/test.php    </span><br><span class="line"> 	&lt;?php</span><br><span class="line">		phpinfo();</span><br><span class="line"> ?&gt;</span><br><span class="line"> </span><br><span class="line"> 测试  浏览器   192.168.2.43/test.php</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">添加环境变量</span><br><span class="line">vim  /etc/profile</span><br><span class="line"></span><br><span class="line">export PATH=&quot;/usr/local/php/bin:$PATH&quot;</span><br><span class="line">export PATH=&quot;/usr/local/mysql/bin:$PATH&quot;</span><br><span class="line">export PATH=&quot;/usr/local/apache2/bin:$PATH&quot;</span><br><span class="line"></span><br><span class="line">source  /etc/profile</span><br><span class="line"></span><br><span class="line">php -v</span><br><span class="line">mysql -u root -p</span><br><span class="line">apachectl  -v</span><br></pre></td></tr></table></figure>
<h3 id="收尾"><a href="#收尾" class="headerlink" title="收尾"></a>收尾</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">安装openssl</span><br><span class="line"></span><br><span class="line">yum -y install openssl-devel   必须安装</span><br><span class="line">cd /lamp/php-7.0.7/ext/openssl</span><br><span class="line">mv config0.m4 config.m4                否则报错：找不到config.m4</span><br><span class="line">/usr/local/php/bin/phpize </span><br><span class="line">./configure --with-openssl --with-php-config=/usr/local/php/bin/php-config </span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">vim  /usr/local/php/etc/php.ini</span><br><span class="line">722  extension_dir = &quot;/usr/local/php/lib/php/extensions/no-debug-zts-20151012/&quot;</span><br><span class="line">#打开注释，并修改</span><br><span class="line">extension=&quot;openssl.so&quot;;</span><br><span class="line">apachectl  stop</span><br><span class="line">apachectl  start</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">安装phpMyAdmin</span><br><span class="line">cp -r /lamp/phpMyAdmin-4.1.4-all-languages /usr/local/apache2/htdocs/phpmyadmin</span><br><span class="line">cd /usr/local/apache2/htdocs/phpmyadmin</span><br><span class="line">cp config.sample.inc.php config.inc.php</span><br><span class="line">vim config.inc.php</span><br><span class="line">//$cfg[&apos;Servers&apos;][$i][&apos;auth_type&apos;] = &apos;cookie&apos;;</span><br><span class="line">$cfg[&apos;Servers&apos;][$i][&apos;auth_type&apos;] = &apos;http&apos;;</span><br><span class="line"></span><br><span class="line">测试  浏览器 192.168.2.43/phpmyadmin/index.php</span><br><span class="line">root</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>
<h3 id="安装memcache服务"><a href="#安装memcache服务" class="headerlink" title="安装memcache服务"></a>安装memcache服务</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1. Linux下安装操作：</span><br><span class="line">	1.1 #安装memcache扩展模块</span><br><span class="line">		</span><br><span class="line">	unzip  pecl-memcache-php7.zip</span><br><span class="line">        cd  pecl-memcache-php7</span><br><span class="line">        /usr/local/php/bin/phpize</span><br><span class="line">       ./configure --with-php-config=/usr/local/php/bin/php-config</span><br><span class="line">        make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">       修改/usr/local/php/etc/php.ini</span><br><span class="line">       extension_dir = &quot;/usr/local/php/lib/php/extensions/no-debug-zts-20151012/&quot;</span><br><span class="line">       extension=&quot;memcache.so&quot;;</span><br><span class="line">       #重启apache，通过浏览器 在phpinfo中可以找到这个模块</span><br><span class="line"> </span><br><span class="line">       1.2 #安装缓存服务 memcached-1.4.4-3.el6.i686.rpm</span><br><span class="line"></span><br><span class="line">       mount /dev/sr0 /mnt/cdrom/     挂载ISO镜像文件</span><br><span class="line">       yum -y install memcached </span><br><span class="line">       useradd memcache    添加memcache用户</span><br><span class="line">       memcached -d -m 128 -l 127.0.0.1 -p 11211 -u memcache  启动服务</span><br><span class="line">       chkconfig memcached on  设置开机自启动</span><br></pre></td></tr></table></figure>
<h2 id="Apache服务器配置"><a href="#Apache服务器配置" class="headerlink" title="Apache服务器配置"></a>Apache服务器配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line">一	简介</span><br><span class="line">		1	www：world  wide  web	</span><br><span class="line">			http	协议：	超文本传输协议</span><br><span class="line">			HTML语言：	超文本标识语言</span><br><span class="line">		2	URL：统一资源定位		协议+域名：端口+网页文件名</span><br><span class="line">				http://www.sina.com.cn:80/admin/index.html</span><br><span class="line">二	安装</span><br><span class="line">	1、lamp源码安装	               </span><br><span class="line">	2、二进制包安装    yum安装</span><br><span class="line">			httpd</span><br><span class="line">			mysql</span><br><span class="line">			mysql-server		</span><br><span class="line">			php</span><br><span class="line">			php-devel</span><br><span class="line">			php-mysql</span><br><span class="line"></span><br><span class="line">三	相关文件</span><br><span class="line">	apache配置文件</span><br><span class="line">		源码包安装：/usr/lcoal/apache2/etc/httpd.conf</span><br><span class="line">				   /usr/local/apache2/etc/extra/*.conf	    </span><br><span class="line">		二进制包安装：/etc/httpd/conf/httpd.conf</span><br><span class="line">	默认网页保存位置：</span><br><span class="line">		源码包：/usr/local/apache2/htdocs/</span><br><span class="line">		二进制包安装：/var/www/html/</span><br><span class="line">	日志保存位置</span><br><span class="line">		源码包：/usr/local/apache2/logs/</span><br><span class="line">		二进制包： /var/log/httpd/</span><br><span class="line">         二进制包默认使用日志处理程序   /var下都会轮替   源码包才				   需要设置</span><br><span class="line">日志处理：</span><br><span class="line">  1日志切割  apache自带日志里面自带日志切割</span><br><span class="line">  2日志轮替  linux自带日志管理logrorate.conf	</span><br><span class="line">          加入/usr/local/apache2/logs/access_log&#123;</span><br><span class="line">                                daily</span><br><span class="line">                                rotate  30</span><br><span class="line">						&#125;</span><br><span class="line">          logrotate -f /etc/logrotate.conf</span><br><span class="line"></span><br><span class="line">             所有日志都要进行日i www! he htdocs bu yiyang! </span><br><span class="line">志轮替</span><br><span class="line"> </span><br><span class="line">	四	配置文件</span><br><span class="line">vim /root/.bashrc</span><br><span class="line">   alias sta=’/usr/local/apache2/bin/apachectl start’</span><br><span class="line">   alias sto=’/usr/local/apache2/bin/apachectl stop’</span><br><span class="line"></span><br><span class="line">source /root/.bashrc</span><br><span class="line">		注意：apache配置文件严格区分大小写</span><br><span class="line">		1	针对主机环境的基本配置</span><br><span class="line"></span><br><span class="line">	31	ServerRoot		apache主目录          </span><br><span class="line">	52	Listen			监听端口              </span><br><span class="line">		LoadModule		加载的相关模块</span><br><span class="line"></span><br><span class="line">		User</span><br><span class="line">		Group			用户和组</span><br><span class="line">		ServerAdmin		管理员邮箱</span><br><span class="line">		ServerName		服务器名（没有域名解析时，使用临时解析）</span><br><span class="line">		ErrorLog &quot;logs/error_log	错误日志</span><br><span class="line">		CustomLog &quot;logs/access_log&quot; common		正确访问日志</span><br><span class="line">		DirectoryIndex index.html index.php		默认网页文件名,优先级顺序</span><br><span class="line">		Include  etc/extra/httpd-vhosts.conf		子配置文件中内容也会加载生效</span><br><span class="line">		</span><br><span class="line">		2	主页目录及权限  </span><br><span class="line"></span><br><span class="line">			DocumentRoot &quot;/usr/local/apache2//htdocs&quot;          </span><br><span class="line">				主页目录</span><br><span class="line"></span><br><span class="line">			&lt;Directory &quot;/usr/local/apache2//htdocs&quot;&gt;                 </span><br><span class="line">				#Directory关键字定义目录权限</span><br><span class="line"></span><br><span class="line">				Options Indexes FollowSymLinks                    </span><br><span class="line">					#options </span><br><span class="line">						None：没有任何额外权限</span><br><span class="line">						All： 所有权限</span><br><span class="line">						Indexes：浏览权限（当此目录下没有默认网页文件时，显示目录内容）</span><br><span class="line">						FollowSymLinks：准许软连接到其他目录</span><br><span class="line">				AllowOverride None</span><br><span class="line">					#定义是否允许目录下.htaccess文件中的权限生效</span><br><span class="line">						None：.htaccess中权限不生效</span><br><span class="line">						All：文件中所有权限都生效</span><br><span class="line">						AuthConfig：文件中，只有网页认证的权限生效。</span><br><span class="line"></span><br><span class="line">				Require all granted	访问控制列表</span><br><span class="line">403错误   				404错误  网页找不见</span><br><span class="line"></span><br><span class="line">		3	目录别名  扩展网站目录，增加服务器   </span><br><span class="line">子配置文件名	etc/extra/httpd-autoindex.conf</span><br><span class="line"></span><br><span class="line">Alias /www/ &quot;/usr/local/apache2//www/&quot;</span><br><span class="line">       </span><br><span class="line">&lt;Directory &quot;/usr/local/apache2//www&quot;&gt;</span><br><span class="line">    			Options Indexes MultiViews			</span><br><span class="line">    			AllowOverride None</span><br><span class="line">    			Require all granted                   	</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"> </span><br><span class="line">mkdir /usr/local/apache2/www/</span><br><span class="line">浏览器测试 http://192.168.1.253/www/</span><br><span class="line">4	虚拟主机		</span><br><span class="line">		1）分类</span><br><span class="line">	      基于IP的虚拟主机: 一台服务器，多个IP，搭建多个网站</span><br><span class="line">	  	 基于端口的虚拟主机：一台服务器，一个ip，搭建多个网站，每个网络使用不同端口访问</span><br><span class="line">	     基于名字的虚拟主机：	一台服务器，一个ip，搭建多个网站，每个网站使用不同域名访问</span><br><span class="line">		2）步骤：</span><br><span class="line">			①	解析试验域名</span><br><span class="line">				www.sina.com</span><br><span class="line">				www.sohu.com</span><br><span class="line">C:\WINDOWS\system32\drivers\etc\hosts		</span><br><span class="line">	②	规划网站主目录</span><br><span class="line">		/share/sina--------------www.sina.com</span><br><span class="line">		/share/sohu ------------ www.sohu.com</span><br><span class="line">	③ 	修改配置文件</span><br><span class="line">		vim  /usr/local/apache2/etc/httpd.conf</span><br><span class="line">			Include etc//extra/httpd-vhosts.conf</span><br><span class="line">				#打开虚拟主机配置文件</span><br><span class="line">vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line">&lt;Directory &quot;/share/sina&quot;&gt;</span><br><span class="line"> 		   Options Indexes</span><br><span class="line"> 		   AllowOverride None</span><br><span class="line">Require all granted </span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;/share/sohu&quot;&gt;</span><br><span class="line"> 		   Options Indexes</span><br><span class="line"> 	 		   AllowOverride None</span><br><span class="line">  		  Require all granted </span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">&lt;VirtualHost 192.168.150.253&gt;</span><br><span class="line">#注意，只能写ip</span><br><span class="line"> 		   ServerAdmin webmaster@sina.com</span><br><span class="line">				#管理员邮箱</span><br><span class="line"> 		   DocumentRoot &quot;/share/sina&quot;</span><br><span class="line">				#网站主目录</span><br><span class="line">   	  	   ServerName www.sina.com</span><br><span class="line">				#完整域名</span><br><span class="line">    		   ErrorLog &quot;logs/sina-error_log&quot;</span><br><span class="line">				#错误日志</span><br><span class="line">    		   CustomLog &quot;logs/sina-access_log&quot; common</span><br><span class="line">				#访问日志</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">&lt;VirtualHost 192.168.150.253&gt;</span><br><span class="line"> 		   ServerAdmin webmaster@sohu.com</span><br><span class="line"> 		   DocumentRoot &quot;/share/sohu&quot;</span><br><span class="line"> 		   ServerName www.sohu.com</span><br><span class="line">  		  ErrorLog &quot;logs/sohu.com-error_log&quot;</span><br><span class="line">  		  CustomLog &quot;logs/sohu.com-access_log&quot; common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">5	rewrite	重写功能    		</span><br><span class="line">在URL中输入一个地址，会自动跳转为另一个</span><br><span class="line">		1）域名跳转	www.sina.com  ------&gt;  www.sohu.com</span><br><span class="line">			开启虚拟主机，并正常访问 </span><br><span class="line"></span><br><span class="line">[root@localhost ~]# vim /usr/local/apache2/etc/httpd.conf</span><br><span class="line">LoadModule rewrite_module modules/mod_rewrite.so</span><br><span class="line">#打开重写模块，记得重启apache</span><br><span class="line">		修改配置文件，使sina目录的.htaccess文件生效</span><br><span class="line">[root@localhost etc]# vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;/share/sina&quot;&gt;</span><br><span class="line"> 		   Options Indexes FollowSymLinks</span><br><span class="line">  		   AllowOverride All</span><br><span class="line">  		   Require all granted </span><br><span class="line"> 		&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">vim  /share/sina/.htaccess</span><br><span class="line">RewriteEngine on</span><br><span class="line">	#开启rewrite功能</span><br><span class="line">RewriteCond %&#123;HTTP_HOST&#125; www.sina.com</span><br><span class="line">			把以www.sina.com	开头的内容赋值给HTTP_HOST变量</span><br><span class="line">RewriteRule  .*   http://www.sohu.com</span><br><span class="line">	.*  输入任何地址，都跳转到http://www.sohu.com</span><br><span class="line"></span><br><span class="line">2)网页文件跳转 </span><br><span class="line">vim  /share/sina/.htaccess</span><br><span class="line">RewriteEngine on</span><br><span class="line">RewriteRule index(\d+).html index.php?id=$1</span><br><span class="line">	#输入index(数值).html时，跳转到index.php文件，同时把数值当成变量传入index.php</span><br></pre></td></tr></table></figure>
<h3 id="Apache执行停止改名"><a href="#Apache执行停止改名" class="headerlink" title="Apache执行停止改名"></a>Apache执行停止改名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">命令别名  alias</span><br><span class="line"></span><br><span class="line">vim /root/.bashrc</span><br><span class="line"></span><br><span class="line">alias sto=&apos;/usr/local/apache2/bin/apachectl stop&apos;</span><br><span class="line"></span><br><span class="line">alias sta=&apos;/usr/local/apache2/bin/apachectl start&apos;</span><br><span class="line"></span><br><span class="line">source  /root/.bashrc</span><br><span class="line"></span><br><span class="line">sto</span><br><span class="line"></span><br><span class="line">sta</span><br></pre></td></tr></table></figure>
<h3 id="目录别名-扩容-增加服务目录"><a href="#目录别名-扩容-增加服务目录" class="headerlink" title="目录别名 扩容   增加服务目录"></a>目录别名 扩容   增加服务目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1）建立扩容目录</span><br><span class="line"></span><br><span class="line">mkdir  /usr/local/apache2/www/</span><br><span class="line"></span><br><span class="line">2）修改主配置文件 </span><br><span class="line"></span><br><span class="line">vim  /usr/local/apache2/etc/httpd.conf</span><br><span class="line"></span><br><span class="line">453 Include etc//extra/httpd-autoindex.conf</span><br><span class="line"></span><br><span class="line">3）修改子配置文件</span><br><span class="line"></span><br><span class="line">vim  /usr/local/apache2/etc/extra/httpd-autoindex.conf</span><br><span class="line"></span><br><span class="line">     29 Alias /www/ &quot;/usr/local/apache2/www/&quot;</span><br><span class="line">     30 </span><br><span class="line">     31 &lt;Directory &quot;/usr/local/apache2/www/&quot;&gt;</span><br><span class="line">     32     Options Indexes</span><br><span class="line">     33     AllowOverride None</span><br><span class="line">     34     Require all granted</span><br><span class="line">     35 &lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">4）重启服务  测试</span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">测试  192.168.2.251/www/</span><br></pre></td></tr></table></figure>
<h3 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">步骤：1）域名解析       文件解析</span><br><span class="line">C:\Windows\System32\drivers\etc\hosts   添加下面两个网址</span><br><span class="line">192.168.2.251  www.sina.com</span><br><span class="line">192.168.2.251  www.sohu.com</span><br><span class="line"></span><br><span class="line">2）网站目录规划  (想显示内容要在里面创建index.html ，里面写入中文会乱码，英文正常显示)</span><br><span class="line">mkdir  -p  /share/sina/</span><br><span class="line">mkdir   /share/sohu/</span><br><span class="line"></span><br><span class="line">3）修改主配置文件</span><br><span class="line">vim  /usr/local/apache2/etc/httpd.conf</span><br><span class="line">465 Include etc//extra/httpd-vhosts.conf</span><br><span class="line"></span><br><span class="line">4）修改子配置文件</span><br><span class="line">vim  /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line">     23 &lt;Directory &quot;/share/sina/&quot;&gt;</span><br><span class="line">     24     Options Indexes</span><br><span class="line">     25     AllowOverride None</span><br><span class="line">     26     Require all granted</span><br><span class="line">     27 &lt;/Directory&gt;</span><br><span class="line">     28     </span><br><span class="line">     29 &lt;Directory &quot;/share/sohu/&quot;&gt;</span><br><span class="line">     30    Options Indexes </span><br><span class="line">     31    AllowOverride None</span><br><span class="line">     32    Require all granted</span><br><span class="line">     33 &lt;/Directory&gt;</span><br><span class="line">     35 &lt;VirtualHost 192.168.2.251&gt;</span><br><span class="line">     36     ServerAdmin webmaster@sina.com</span><br><span class="line">     37     DocumentRoot &quot;/share/sina/&quot;</span><br><span class="line">     38     ServerName www.sina.com</span><br><span class="line">     39     ErrorLog &quot;logs/sina-error_log&quot;</span><br><span class="line">     40     CustomLog &quot;logs/sina-access_log&quot; common</span><br><span class="line">     41 &lt;/VirtualHost&gt;</span><br><span class="line">     42 </span><br><span class="line">     43 &lt;VirtualHost 192.168.2.251&gt;</span><br><span class="line">     44     ServerAdmin webmaster@sohu.com</span><br><span class="line">     45     DocumentRoot &quot;/share/sohu/&quot;</span><br><span class="line">     46     ServerName www.sohu.com</span><br><span class="line">     47     ErrorLog &quot;logs/sohu-error_log&quot;</span><br><span class="line">     48     CustomLog &quot;logs/sohu-access_log&quot; common</span><br><span class="line">     49 &lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">5）重启服务  测试</span><br><span class="line"></span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">测试    www.sina.com    www.sohu.com</span><br></pre></td></tr></table></figure>
<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">rewrite  重写/重定向</span><br><span class="line">www.sina.com  -&gt;  www.sohu.com  </span><br><span class="line"></span><br><span class="line">1）修改主配置文件</span><br><span class="line">vim  /usr/local/apache2/etc/httpd.conf</span><br><span class="line">147 LoadModule rewrite_module modules/mod_rewrite.so</span><br><span class="line"></span><br><span class="line">2）修改子配置文件</span><br><span class="line">vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line">     23 &lt;Directory &quot;/share/sina/&quot;&gt;</span><br><span class="line">     24     Options Indexes FollowSymLinks</span><br><span class="line">     25     AllowOverride All</span><br><span class="line">     26     Require all granted</span><br><span class="line">     27 &lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">3）建立权限文件.htaccess</span><br><span class="line">vim  /share/sina/.htaccess</span><br><span class="line">      1 RewriteEngine on</span><br><span class="line">      2 RewriteCond %&#123;HTTP_HOST&#125; www.sina.com</span><br><span class="line">      3 RewriteRule .*  http://www.sohu.com</span><br><span class="line">   .* 代表任意所有，要从上往下看，这里.*代表sina.com</span><br><span class="line">4） 重启服务  测试</span><br><span class="line">    sto </span><br><span class="line">    sta </span><br><span class="line">测试  www.sina.com   -&gt; www.sohu.com</span><br></pre></td></tr></table></figure>
<h3 id="网页跳转"><a href="#网页跳转" class="headerlink" title="网页跳转"></a>网页跳转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1）修改权限文件</span><br><span class="line">vim /share/sina/.htaccess</span><br><span class="line">      1 RewriteEngine on</span><br><span class="line">      2 RewriteRule index(\d+).html  index.php?id=$1</span><br><span class="line"></span><br><span class="line">2）建立index.php文件</span><br><span class="line"></span><br><span class="line">vim /share/sina/index.php</span><br><span class="line">      1 &lt;?php</span><br><span class="line">      2         echo &quot;hello rewrite!&quot;;</span><br><span class="line">      3 ?&gt;</span><br><span class="line"></span><br><span class="line">3）重启服务测试</span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">测试  www.sina.com/index5.html</span><br></pre></td></tr></table></figure>
<h2 id="LNMP环境搭建-Nginx服务"><a href="#LNMP环境搭建-Nginx服务" class="headerlink" title="LNMP环境搭建-Nginx服务"></a>LNMP环境搭建-Nginx服务</h2><h3 id="LNMP环境搭建"><a href="#LNMP环境搭建" class="headerlink" title="LNMP环境搭建"></a>LNMP环境搭建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">准备工作： 恢复初始化安装      设置IP      关闭防火墙   </span><br><span class="line">                   配置光盘yum源</span><br><span class="line">安装步骤：1.解压缩  </span><br><span class="line">     tar   -zxvf   lnmp1.2-full.tar.gz</span><br><span class="line">     		ls</span><br><span class="line">2.进入解压目录</span><br><span class="line"> 	cd    lnmp1.2-full</span><br><span class="line">3.安装</span><br><span class="line">	./install.sh  lnmp</span><br><span class="line"></span><br><span class="line">环境目录和文件：</span><br><span class="line"></span><br><span class="line">    Nginx 目录: /usr/local/nginx/</span><br><span class="line">    MySQL 目录 : /usr/local/mysql/</span><br><span class="line">    MySQL数据库所在目录：/usr/local/mysql/var/</span><br><span class="line">    PHP目录 : /usr/local/php/</span><br><span class="line">    PHPMyAdmin目录 : /home/wwwroot/default/phpmyadmin/ </span><br><span class="line">    默认网站目录 : /home/wwwroot/default/</span><br><span class="line">    Nginx日志目录：/home/wwwlogs/</span><br><span class="line">    </span><br><span class="line">    Nginx主配置文件：/usr/local/nginx/conf/nginx.conf</span><br><span class="line">    MySQL配置文件：/etc/my.cnf</span><br><span class="line">    PHP配置文件：/usr/local/php/etc/php.ini</span><br><span class="line"></span><br><span class="line">管理命令</span><br><span class="line">lnmp   start  |  restart  | stop   | status</span><br><span class="line">lnmp  nginx  start  |  stop  |  restart   |  status</span><br><span class="line"></span><br><span class="line">配置文件  </span><br><span class="line">ulimit  -a </span><br><span class="line">ulimit   -n   51200</span><br><span class="line">    检查nginx配置文件语句错误</span><br><span class="line">    /usr/local/nginx/sbin/nginx -t</span><br><span class="line">    </span><br><span class="line">    平滑重启nginx进程</span><br><span class="line">    pkill -HUP nginx</span><br></pre></td></tr></table></figure>
<h3 id="虚拟主机-1"><a href="#虚拟主机-1" class="headerlink" title="虚拟主机"></a>虚拟主机</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">1）域名解析  文件解析</span><br><span class="line"></span><br><span class="line">C:\Windows\System32\drivers\etc\hosts</span><br><span class="line"></span><br><span class="line">    192.168.2.251    www.sina.com</span><br><span class="line">    192.168.2.251    www.sohu.com</span><br><span class="line"></span><br><span class="line">2）网站目录规划</span><br><span class="line">mkdir   /home/wwwroot/sina/</span><br><span class="line">mkdir   /home/wwwroot/sohu/</span><br><span class="line">vim  /home/wwwroot/sina/index.html</span><br><span class="line">vim  /home/wwwroot/sohu/index.html</span><br><span class="line"></span><br><span class="line">3）修改配置文件</span><br><span class="line">vim  /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"> 66         listen 80; </span><br><span class="line"></span><br><span class="line">4）建立虚拟主机文件</span><br><span class="line">vim  /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line"></span><br><span class="line">      1 server &#123;</span><br><span class="line">      2         listen 80;</span><br><span class="line">      3         server_name www.sina.com;</span><br><span class="line">      4         index index.html  index.htm  index.php;</span><br><span class="line">      5         root /home/wwwroot/sina/;</span><br><span class="line">      6 </span><br><span class="line">      7         include enable-php.conf;</span><br><span class="line">      8 &#125;</span><br><span class="line">      9 server &#123;</span><br><span class="line">     10         listen 80;</span><br><span class="line">     11         server_name www.sohu.com;</span><br><span class="line">     12         index index.html  index.htm  index.php;</span><br><span class="line">     13         root /home/wwwroot/sohu/;</span><br><span class="line">     14 </span><br><span class="line">     15         include enable-php.conf;</span><br><span class="line">     16 &#125;</span><br><span class="line"></span><br><span class="line">5） 重启服务  测试</span><br><span class="line">pkill -HUP nginx  </span><br><span class="line">测试  www.sina.com   www.sohu.com</span><br></pre></td></tr></table></figure>
<h3 id="列表页显示"><a href="#列表页显示" class="headerlink" title="列表页显示"></a>列表页显示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line"></span><br><span class="line"> 加入  autoindex   on;      开启列表页显示功能 (两个里面都加)</span><br><span class="line"></span><br><span class="line">cd /home/wwwroot/sina      mv index.html a.html（需要改名）</span><br></pre></td></tr></table></figure>
<h3 id="状态监控模块添加"><a href="#状态监控模块添加" class="headerlink" title="状态监控模块添加"></a>状态监控模块添加</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">vim  /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line"></span><br><span class="line">      9 server &#123;</span><br><span class="line">     10         listen 80;</span><br><span class="line">     11         server_name www.sohu.com;</span><br><span class="line">     12         index index.html  index.htm  index.php;</span><br><span class="line">     13         root /home/wwwroot/sohu/;</span><br><span class="line">     14         location /nginx_status&#123;</span><br><span class="line">            	stub_status on;</span><br><span class="line">            	access_log  off;</span><br><span class="line">           		&#125;</span><br><span class="line">     15         include enable-php.conf;</span><br><span class="line">     16 &#125;</span><br><span class="line"></span><br><span class="line">测试   www.sohu.com/nginx_status</span><br></pre></td></tr></table></figure>
<h3 id="rewrite重写、重定向"><a href="#rewrite重写、重定向" class="headerlink" title="rewrite重写、重定向"></a>rewrite重写、重定向</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">域名跳转   www.sina.com  -&gt;  www.sohu.com</span><br><span class="line"></span><br><span class="line">vim  /usr/loca/nginx/conf/vhost/v.conf</span><br><span class="line">    server</span><br><span class="line">            &#123;</span><br><span class="line">                    listen       80;</span><br><span class="line">                    server_name www.sina.com;</span><br><span class="line">                    index index.html index.htm index.php;</span><br><span class="line">                    root  /home/wwwroot/sina;</span><br><span class="line">    </span><br><span class="line">                    if ($http_host = www.sina.com) &#123;</span><br><span class="line">                            rewrite  (.*)  http://www.sohu.com  permanent;</span><br><span class="line">                    &#125;</span><br><span class="line">    		&#125;</span><br><span class="line">重启服务  测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">测试   www.sina.com  -&gt; www.sohu.com</span><br></pre></td></tr></table></figure>
<h3 id="网页文件跳转"><a href="#网页文件跳转" class="headerlink" title="网页文件跳转"></a>网页文件跳转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1）修改配置文件</span><br><span class="line">vim  /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">      1 server &#123;</span><br><span class="line">      2         listen 80;</span><br><span class="line">      3         server_name www.sina.com;</span><br><span class="line">      4         index index.html  index.htm  index.php;</span><br><span class="line">      5         root /home/wwwroot/sina/;</span><br><span class="line">      6         rewrite  index(\d+).html  /index.php?id=$1 last;</span><br><span class="line">      7         include enable-php.conf;</span><br><span class="line">      8 &#125;       </span><br><span class="line"></span><br><span class="line">2）建立 php文件</span><br><span class="line">vim /home/wwwroot/sina/index.php</span><br><span class="line">      1 &lt;?php</span><br><span class="line">      2         echo &quot;hi Nginx rewrite&quot;;</span><br><span class="line">      3 ?&gt;</span><br><span class="line"></span><br><span class="line">3）重启服务 测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">测试  www.sina.com/index5.html</span><br></pre></td></tr></table></figure>
<h3 id="代理负载均衡（反向代理）"><a href="#代理负载均衡（反向代理）" class="headerlink" title="代理负载均衡（反向代理）"></a>代理负载均衡（反向代理）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">准备工作：   S   192.168.2.251      Nginx       负载均衡               S1   192.168.2.102    Nginx       网站解析</span><br><span class="line">            S2    192.168.2.191   Nginx       网站解析</span><br><span class="line"></span><br><span class="line">实验步骤：</span><br><span class="line">1）修改S 192.168.2.251  配置文件</span><br><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line">     63 upstream myweb1 &#123;</span><br><span class="line">     64         server 192.168.2.102:80;</span><br><span class="line">     65         server 192.168.2.191:80;</span><br><span class="line">     66 &#125;       </span><br><span class="line">     67 server &#123;</span><br><span class="line">     68         listen 80;</span><br><span class="line">     69         server_name www.sohu.com;</span><br><span class="line">     70         location / &#123;</span><br><span class="line">     71         proxy_pass http://myweb1;</span><br><span class="line">     72         proxy_next_upstream http_500 http_502 http_503 error timeout invalid_header;</span><br><span class="line">     73         proxy_set_header Host $host; </span><br><span class="line">     74         proxy_set_header X-Forwarded-For $remote_addr; </span><br><span class="line">     75 &#125;                </span><br><span class="line">     76 &#125; </span><br><span class="line">     77 &#125;</span><br><span class="line"></span><br><span class="line">2）修改S1 192.168.2.102        关闭虚拟主机</span><br><span class="line">关闭虚拟主机： cd /usr/local/nginx/conf/    vim nginx.conf            </span><br><span class="line"> # include vhost/*.conf;   检测这个有没有注释或者删了就行</span><br><span class="line"> </span><br><span class="line">cd   /home/wwwroot/default/ </span><br><span class="line">vim index.html</span><br><span class="line">S111111111111</span><br><span class="line"></span><br><span class="line">3）修改S1 192.168.2.191        关闭虚拟主机</span><br><span class="line">cd   /home/wwwroot/default/ </span><br><span class="line">vim index.html</span><br><span class="line">S2222222222</span><br><span class="line"></span><br><span class="line">4） 重启S 服务   测试</span><br><span class="line">pkill -HUP nginx  </span><br><span class="line">测试   www.sohu.com      刷新   S1    S2</span><br></pre></td></tr></table></figure>
<h2 id="Shell-编程"><a href="#Shell-编程" class="headerlink" title="Shell 编程"></a>Shell 编程</h2><h3 id="shell的作用和历史"><a href="#shell的作用和历史" class="headerlink" title="shell的作用和历史"></a>shell的作用和历史</h3><p><img src="file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml\wps1EA7.tmp.jpg" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Shell的作用 -- 命令解释器，“翻译官”</span><br><span class="line">vim  /etc/shells      shell文件(里面有好多不同的shell)</span><br></pre></td></tr></table></figure>
<h3 id="shell-常用功能"><a href="#shell-常用功能" class="headerlink" title="shell 常用功能"></a>shell 常用功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">自动补全    Tab</span><br><span class="line">命令历史     history </span><br><span class="line">  history  -w   同步历史命令/写入隐藏文件 </span><br><span class="line">  history  -c    清除历史记录 </span><br><span class="line">  </span><br><span class="line">!n：执行历史记录中的第n条命令</span><br><span class="line">!str：执行历史记录中以“str”开头的命令</span><br><span class="line">vim   /etc/profile  </span><br><span class="line"> 48 HISTSIZE=1000</span><br><span class="line"> 为使用频率较高的复杂命令行设置简短的调用名称</span><br><span class="line">存放位置：~/.bashrc</span><br><span class="line">vim   /root/.bashrc</span><br><span class="line"></span><br><span class="line">查看命令别名</span><br><span class="line">格式：alias  [别名]</span><br><span class="line"></span><br><span class="line">设置命令别名</span><br><span class="line">执行：alias  别名=&apos;实际执行的命令&apos;</span><br><span class="line">alias   ls=&apos;ls  -lha&apos;    设置之后需要执行此文件，否则不生效</span><br><span class="line">ls  </span><br><span class="line"></span><br><span class="line">取消已设置的命令别名 </span><br><span class="line">格式：unalias  别名</span><br><span class="line">unalias   ls</span><br><span class="line"></span><br><span class="line">输入重定向</span><br><span class="line">man  wc</span><br><span class="line">wc   &lt;   install.log</span><br><span class="line"></span><br><span class="line">输出重定向</span><br><span class="line">ls  &gt;   bak.list</span><br><span class="line">ls  -l  &gt;&gt;  bak.list</span><br><span class="line"></span><br><span class="line">标准错误输出</span><br><span class="line">lss  2&gt;  bak.list</span><br><span class="line">lss  2&gt;&gt;  bak.list</span><br><span class="line"></span><br><span class="line">重定向标准输出和标准错误</span><br><span class="line">ls   &amp;&gt;   /dev/null          黑洞设备文件（空设备文件）</span><br><span class="line">lss  &gt;&gt;  a.txt   2&gt;&amp;1         重定向标准错误</span><br><span class="line">2&gt;&amp;1  算是一个判断条件，如果前面正确，则无用，如果错误，就会把错误信息也输入到文件里</span><br></pre></td></tr></table></figure>
<p><img src="file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml\wps728F.tmp.jpg" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">管道符    |</span><br><span class="line">    netstat -an | grep ESTABLISHED | wc -l     统计与服务器的连接数量</span><br></pre></td></tr></table></figure>
<h3 id="Shell变量的应用"><a href="#Shell变量的应用" class="headerlink" title="Shell变量的应用"></a>Shell变量的应用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">Shell变量的种类</span><br><span class="line"></span><br><span class="line">用户自定义变量：由用户自己定义、修改和使用</span><br><span class="line"></span><br><span class="line">环境变量：由系统维护，用于设置用户的Shell工作环境，只有极少数的变量用户可以修改</span><br><span class="line"></span><br><span class="line">预定义变量：Bash预定义的特殊变量，不能直接修改</span><br><span class="line"></span><br><span class="line">位置变量：通过命令行给程序传递执行参数</span><br><span class="line"></span><br><span class="line">变量的赋值与引用</span><br><span class="line"></span><br><span class="line">定义新的变量</span><br><span class="line">变量名要以英文字母或下划线开头，区分大小写</span><br><span class="line">格式：变量名=变量值</span><br><span class="line"></span><br><span class="line">查看变量的值</span><br><span class="line">格式：echo  $变量名</span><br><span class="line"></span><br><span class="line">查看所有变量：set</span><br><span class="line"></span><br><span class="line">清除变量</span><br><span class="line">unset 变量名</span><br><span class="line"></span><br><span class="line">定义变量                                                </span><br><span class="line">Var=lamp</span><br><span class="line">echo  $&#123;var&#125;3.0</span><br><span class="line"></span><br><span class="line">&quot;&quot;    &apos;&apos;   ``      单引号 双引号 反引号 对比</span><br><span class="line">    DAY=xingqier</span><br><span class="line">    echo $DAY         显示xingqier</span><br><span class="line">    echo  &quot;$DAY&quot;	  显示xingqier</span><br><span class="line">    echo &apos;$DAY&apos;		  显示$DAY</span><br><span class="line">    echo `$DAY`		  执行 xingqier  （必须是命令。否则报错）</span><br><span class="line">    </span><br><span class="line">    unset DAY</span><br><span class="line">    DAY=ls</span><br><span class="line">    echo `$DAY`  执行ls</span><br><span class="line"></span><br><span class="line">环境变量赋值</span><br><span class="line">设置变量的作用范围</span><br><span class="line">格式：export   变量名...</span><br><span class="line">      export  变量名=变量值  [...变量名n=变量值n]</span><br><span class="line"></span><br><span class="line">查看环境变量</span><br><span class="line">	 env 	或	export</span><br><span class="line"></span><br><span class="line">清除用户定义的变量</span><br><span class="line">格式：unset   变量名</span><br><span class="line">    命令执行时查找顺序</span><br><span class="line">    1、以相对/绝对路径执行</span><br><span class="line">    2、由alias找到的执行</span><br><span class="line">    3、bash内部命令执行</span><br><span class="line">    4、按$PATH路径执行</span><br><span class="line">    </span><br><span class="line"> 环境变量PS1</span><br><span class="line">    echo $PS1</span><br><span class="line">    		\d  日期	\t  时间（24）	\T时间（12）</span><br><span class="line">    		\H  完整主机名		\h  简写主机名</span><br><span class="line">    		\u  用户名			\v  bash版本</span><br><span class="line">    		\w  完整目录		\W  最后一个目录</span><br><span class="line">    		\#   执行了第几个命令	\$  提示符</span><br><span class="line">    PS1=‘[\u@\h  \W  \t  #\#]\$’</span><br><span class="line">    </span><br><span class="line">  常见的环境变量：</span><br><span class="line">   $USER 、$LOGNAME</span><br><span class="line">   $UID 、 $SHELL 、$HOME</span><br><span class="line">   $PWD、 $PATH </span><br><span class="line">   $PS1、$PS2</span><br><span class="line">   </span><br><span class="line">查看环境变量</span><br><span class="line">[root@localhost ~]# echo $PATH</span><br><span class="line">/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">    </span><br><span class="line">    预定义变量</span><br><span class="line">  表示形式如下</span><br><span class="line">    $#：命令行中位置参数的个数</span><br><span class="line">    $*：所有位置参数的内容</span><br><span class="line">    $?：上一条命令执行后返回的状态，当返回状态值为0时表示执行正常，非0值表示执行异常或出错</span><br><span class="line">    $$：当前所在进程的进程号</span><br><span class="line">    $!：后台运行的最后一个进程号</span><br><span class="line">    $0：当前执行的进程/程序名</span><br><span class="line"> 命令执行时查找顺序</span><br><span class="line">    1、以相对/绝对路径执行</span><br><span class="line">    2、由alias找到的执行</span><br><span class="line">    3、bash内部命令执行</span><br><span class="line">    4、按$PATH路径执行</span><br><span class="line"></span><br><span class="line">    [root@localhost ~]# bash </span><br><span class="line">    [root@localhost ~]# echo  $0  $$</span><br><span class="line">    bash 5887</span><br><span class="line">    [root@localhost ~]# exxit</span><br><span class="line">    bash: exxit: command not found</span><br><span class="line">    [root@localhost ~]# echo $?</span><br><span class="line">    127</span><br><span class="line">    [root@localhost ~]# exit</span><br><span class="line">    exit</span><br><span class="line">    [root@localhost ~]# echo $? </span><br><span class="line">    0</span><br><span class="line">    ；  命令顺序执行。</span><br><span class="line">    &amp;&amp; 前后命令的执行存在逻辑与关系，只有&amp;&amp;前面的命令执行成功后，它后面的命令才被执行。</span><br><span class="line">    ||   前后命令的执行存在逻辑或关系，只有||前面的命令执行失败后，它后面的命令才被执行。</span><br><span class="line"></span><br><span class="line">    通配符与特殊符号</span><br><span class="line">    通配符</span><br><span class="line">    		*	任意多个</span><br><span class="line">    		？	任意一个</span><br><span class="line">    		[]	括号内任一个	[^0-9]非数字</span><br><span class="line">    		</span><br><span class="line">    rm   -rf  *</span><br><span class="line">    rm   -rf  ?.??</span><br><span class="line">    touch   1.txt  2.txt  3.txt</span><br><span class="line">    rm -rf  [1-9].* </span><br><span class="line">    </span><br><span class="line">    特殊符号</span><br><span class="line">    		\	转义符</span><br><span class="line">    		&amp;	后台</span><br><span class="line">    		！	非</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">4.数值变量的运算</span><br><span class="line">计算整数表达式的运算结果</span><br><span class="line">格式：expr  变量1   运算符  变量2  ...[运算符 变量n]</span><br><span class="line">expr的常用运算符</span><br><span class="line">加法运算：+</span><br><span class="line">减法运算： -</span><br><span class="line">乘法运算： \*</span><br><span class="line">除法运算： /</span><br><span class="line">求模（取余）运算： % </span><br><span class="line"></span><br><span class="line">Bash程序并不适合进行强大的数学运算，例如小数或指数运算的，一般只能进行简单的整数运算</span><br><span class="line">对Shell变量进行数值运算时，更多的时候是用于脚本程序的过程控制，如控制程序的循环次数</span><br><span class="line">在expr命令的使用格式中，变量与运算符间是有空格的，可以同时使用多个运算符、多个变量</span><br><span class="line">由于星号“*”作为Bash环境中的通配符使用，因此乘法运算符需要使用“\*”的特殊形式（转义字符）</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;please input num1:&quot; -t 30  test1</span><br><span class="line">read -p &quot;input num2:&quot; -t 30  test2</span><br><span class="line">declare -i sum=”$test1+$test2”</span><br><span class="line">echo “num1 +  num2 = $sum”</span><br></pre></td></tr></table></figure>
<h3 id="shell脚本的概念"><a href="#shell脚本的概念" class="headerlink" title="shell脚本的概念"></a>shell脚本的概念</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">    Shell脚本</span><br><span class="line">    1.用途：完成特定的、较复杂的系统管理任务</span><br><span class="line">    2.格式：集中保存多条Linux命令，普通文本文件</span><br><span class="line">    3.执行方式：按照预设的顺序依次解释执行</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# vi repboot.sh</span><br><span class="line">    #!/bin/bash</span><br><span class="line">    # To show usage of /boot directory and mode of kernel file.</span><br><span class="line">    echo &quot;Useage of /boot: &quot;</span><br><span class="line">    du -sh /boot</span><br><span class="line">    echo &quot;The mode of kernel file:&quot;</span><br><span class="line">    ls -lh /boot/vmlinuz-*</span><br><span class="line">    [root@localhost ~]# chmod a+x repboot.sh </span><br><span class="line"></span><br><span class="line">    运行Shell脚本程序</span><br><span class="line">    </span><br><span class="line">    1.直接执行具有“x”权限的脚本文件</span><br><span class="line">     例如：./repboot.sh </span><br><span class="line">    2.使用指定的解释器程序执行脚本内容</span><br><span class="line">     例如：bash  repboot.sh</span><br><span class="line">    3.通过source命令（或 . ）读取脚本内容执行</span><br><span class="line">     例如：souce  repboot.sh  或  .  hello.sh</span><br></pre></td></tr></table></figure>
<h3 id="shell脚本应用实例"><a href="#shell脚本应用实例" class="headerlink" title="shell脚本应用实例"></a>shell脚本应用实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1：</span><br><span class="line">每周五17:30清理FTP服务器的公共共享目录</span><br><span class="line"> 检查 /var/ftp/pub/ 目录，将其中所有子目录及文件的详细列表、当时的时间信息追加保存到 /var/log/pubdir.log 日志文件中，然后清空该目录</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# vi /opt/ftpclean.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">date  &gt;&gt;  /var/log/pubdir.log</span><br><span class="line">ls  -lhR  /var/ftp/pub  &gt;&gt;  /var/log/pubdir.log</span><br><span class="line">rm  -rf  /var/ftp/pub/*</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# crontab -e</span><br><span class="line">30 17 * * 5  /opt/ftpclean.sh</span><br><span class="line"></span><br><span class="line">chmod  +x   /opt/ftpclean.sh</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">示例2:</span><br><span class="line">每隔3天时间3：30对数据库目录做一次完整备份</span><br><span class="line"> 统计 /usr/local/mysql/var 目录占用的空间大小、查看当前的日期，并记录到临时文件 /tmp/dbinfo.txt 中， 将 /tmp/dbinfo.txt 文件、/usr/local/mysql/var 目录进行压缩归档，备份到/opt/dbbak/目录中， 备份后的包文件名中要包含当天的日期信息， 最后删除临时文件/tmp/dbinfo.txt</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# vi /opt/dbbak.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">DAY=`date +%Y%m%d`</span><br><span class="line">SIZE=`du -sh /usr/local/mysql/var`</span><br><span class="line">echo &quot;Date: $DAY&quot; &gt;&gt; /tmp/dbinfo.txt</span><br><span class="line">echo &quot;Data Size: $SIZE&quot; &gt;&gt; /tmp/dbinfo.txt</span><br><span class="line">mkdir  /opt/dbbak</span><br><span class="line">cd /opt/dbbak</span><br><span class="line">tar -zcPf mysqlbak-$&#123;DAY&#125;.tar.gz /usr/local/mysql/var /tmp/dbinfo.txt</span><br><span class="line">rm -f /tmp/dbinfo.txt</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# crontab -e</span><br><span class="line">30 3 */3 * *  /opt/dbbak.sh</span><br><span class="line"></span><br><span class="line">chmod  +x  /opt/dbbak.sh</span><br></pre></td></tr></table></figure>
<h3 id="shell-显示写法"><a href="#shell-显示写法" class="headerlink" title="shell 显示写法"></a>shell 显示写法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">从键盘输入内容为变量赋值</span><br><span class="line">格式： read  [-p  &quot;信息&quot;]  变量名</span><br><span class="line">结合不同的引号为变量赋值</span><br><span class="line">双引号 “ ” ：允许通过$符号引用其他变量值</span><br><span class="line">单引号 ‘ ’ ：禁止引用其他变量值，$视为普通字符</span><br><span class="line">反撇号 ` ` ：将命令执行的结果输出给变量</span><br><span class="line">下面就是一个简单计算器的运用写法：</span><br><span class="line">  read -p &quot;input first num: &quot; var1</span><br><span class="line">  read -p &quot;input +-*/ : &quot; var</span><br><span class="line">  read -p &quot;input second num: &quot; var2</span><br><span class="line"></span><br><span class="line">  v=`echo &quot; $var1 $var $var2 &quot;|bc`</span><br><span class="line">  echo &quot;$var1 $var $var2 = $v&quot;</span><br></pre></td></tr></table></figure>
<h2 id="Shell-正式编程"><a href="#Shell-正式编程" class="headerlink" title="Shell 正式编程"></a>Shell 正式编程</h2><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1  ^</span><br><span class="line">#只匹配行首</span><br><span class="line">2  $</span><br><span class="line">#只匹配行尾</span><br><span class="line">3  *</span><br><span class="line">#匹配0个或者多个单字符</span><br><span class="line">4  []</span><br><span class="line">#只匹配[]内字符，可以是一个单字符，也可以是字符序列，可以使用*表示[]内字符序列范围，如用[1-5]代替[12345]</span><br><span class="line">5  \</span><br><span class="line">#只用来屏蔽一个元字符的特殊含义</span><br><span class="line">6  .</span><br><span class="line">#只匹配任意单字符</span><br><span class="line">7  pattern\&#123;n\&#125;</span><br><span class="line">#匹配n次pattern</span><br><span class="line">8  pattern\&#123;n,\&#125;</span><br><span class="line">#匹配n次以上pattern</span><br><span class="line">9  pattern\&#123;n,m\&#125;</span><br><span class="line">#匹配n到m次pattern</span><br><span class="line">11  ^只允许在一行的开始匹配字符或单词</span><br><span class="line">^d   筛选出以d开头的文件属性</span><br><span class="line">12  ^ $</span><br><span class="line">#匹配空行</span><br><span class="line">13  ^.$</span><br><span class="line">#匹配包含一个字符的行</span><br><span class="line">14  kkk$</span><br><span class="line">#匹配以kkk结尾的所有字符</span><br><span class="line">15  \*\.pas</span><br><span class="line">#匹配以*.pas结尾的所有字符或文件</span><br><span class="line">16  a\&#123;2\&#125;b</span><br><span class="line">#a出现两次，aab     </span><br><span class="line">17  a\&#123;4,\&#125;b</span><br><span class="line">#a至少出现4次，aaaab,aaaaab ..</span><br><span class="line">18  a\&#123;2,4\&#125;</span><br><span class="line">#a出现次数范围2-4次</span><br><span class="line">19  [0-9]\&#123;3\&#125;\.[0-9]\&#123;3\&#125;\.[0-9]\&#123;3\&#125;\.[0-9]\&#123;3\&#125;</span><br><span class="line">#匹配所有ip地址</span><br><span class="line">20   cal 显示日历</span><br></pre></td></tr></table></figure>
<h3 id="shell编程中常用的命令"><a href="#shell编程中常用的命令" class="headerlink" title="shell编程中常用的命令"></a>shell编程中常用的命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">行提取命令</span><br><span class="line"></span><br><span class="line">grep	选项：		-v     -n 	-i</span><br><span class="line">	</span><br><span class="line">	grep  &quot;[^a-z]oo&quot;  aa  (文件名)</span><br><span class="line">	oo前不是小写字母的行匹配。	注意：和开头没有关系</span><br><span class="line">	grep  “\.$”	aa</span><br><span class="line">	匹配以.结尾的行</span><br><span class="line">	grep  &quot;^[^A-Za-z]&quot;  aa</span><br><span class="line">	匹配不以字母开头的行		注意：所有字母不能这样写   A-z</span><br><span class="line">	grep  “^$”  aa</span><br><span class="line">	匹配空白行</span><br><span class="line">	grep  &quot;oo*&quot; aa</span><br><span class="line">	匹配最少一个o</span><br><span class="line">	grep  “g.*d” aa</span><br><span class="line">	匹配g开头，d结尾，中间任意字符	gd</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">列提取命令</span><br><span class="line"></span><br><span class="line">awk  &apos;条件 ｛动作｝&apos;</span><br><span class="line">	last | awk &apos;&#123;printf $1 &quot;\t&quot; $3 &quot;\n&quot;&#125;&apos;</span><br><span class="line">	提取last显示结果的第一和第三列</span><br><span class="line"></span><br><span class="line">last | grep &quot;[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;&quot;|awk &apos;&#123;printf $1 &quot;\t&quot; $3 &quot;\n&quot;&#125;&apos;</span><br><span class="line">在last中提取包含ip的行，在行中提取第一和第三列</span><br><span class="line"></span><br><span class="line">awk内置变量		FS  指定分隔符</span><br><span class="line">more /etc/passwd | awk &apos;BEGIN &#123;FS=&quot;:&quot;&#125; &#123;printf $1 &quot;\t&quot; $3 &quot;\n&quot;&#125;&apos;</span><br><span class="line">读取passwd文件，以&quot;:&quot;为分隔符，截取第一和第三列</span><br><span class="line">BEGIN	在截取前使分隔符生效。如果没有BEGIN，那么第一行自定义的分隔符不生效</span><br><span class="line"></span><br><span class="line">1  last  &gt; file</span><br><span class="line">#把last命令结果保存在file文件中</span><br><span class="line">2  awk ‘&#123;print $0 “\n”&#125;&apos; file </span><br><span class="line">#查找出file文件中的每1列</span><br><span class="line">3  awk &apos;&#123;print $1&quot;\t&quot;$7 “\n”&#125;&apos; file</span><br><span class="line">#查找出file文件中的第1列和第7列</span><br><span class="line"></span><br><span class="line">cut	</span><br><span class="line"></span><br><span class="line">cut  -d  “分隔符”  -f  提取列   文件名</span><br><span class="line"></span><br><span class="line">more /etc/passwd | grep &quot;/bin/bash&quot; | cut -d &quot;:&quot; -f 1,3</span><br><span class="line">提取passwd文件中可以登录的用户的用户名和UID</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">输出命令</span><br><span class="line"></span><br><span class="line">echo  -e  “输出内容”</span><br><span class="line"></span><br><span class="line">	-e  识别格式化打印内容</span><br><span class="line"></span><br><span class="line">	echo  -e  “1\t2\t3”	打印tab键</span><br><span class="line"></span><br><span class="line">	echo  -e   &quot;\e[1;31m  this is red text \e[0m&quot;	输出红色字体</span><br><span class="line">					\e[  格式</span><br><span class="line">					1;31m  指定颜色</span><br><span class="line">					0m	恢复颜色（重置）</span><br><span class="line">30m=黑色，31m=红色，32m=绿色，33m=黄色，34m=蓝色，35m=洋红，36m=青色，37=白色</span><br></pre></td></tr></table></figure>
<h3 id="shell条件测试操作"><a href="#shell条件测试操作" class="headerlink" title="shell条件测试操作"></a>shell条件测试操作</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">条件测试操作</span><br><span class="line"></span><br><span class="line">test命令</span><br><span class="line">用途：测试特定的表达式是否成立，当条件成立时，命令执行后的返回值为0，否则为其他数值</span><br><span class="line"></span><br><span class="line">格式：test  条件表达式   [   条件表达式   ]</span><br><span class="line"></span><br><span class="line">常见的测试类型</span><br><span class="line">测试文件状态</span><br><span class="line">字符串比较</span><br><span class="line">整数值比较</span><br><span class="line">逻辑测试</span><br><span class="line"></span><br><span class="line">测试文件状态</span><br><span class="line">格式：[  操作符  文件或目录  ]</span><br><span class="line"></span><br><span class="line">常用的测试操作符</span><br><span class="line">-d：测试是否为目录（Directory）</span><br><span class="line">-e：测试目录或文件是否存在（Exist）</span><br><span class="line">-f：测试是否为文件（File）</span><br><span class="line">-r：测试当前用户是否有权限读取（Read）</span><br><span class="line">-w：测试当前用户是否有权限写入（Write）</span><br><span class="line">-x：测试当前用户是否可执行（Excute）该文件</span><br><span class="line">-L：测试是否为符号连接（Link）文件</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# [  -d /etc/vsftpd  ]</span><br><span class="line">[root@localhost ~]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@localhost ~]# [  -d /etc/hosts  ]</span><br><span class="line">[root@localhost ~]# echo $?</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# [ -e /media/cdrom ] &amp;&amp; echo &quot;YES&quot;</span><br><span class="line">YES </span><br><span class="line">[root@localhost ~]# [ -e /media/cdrom/Server ] &amp;&amp; echo &quot;YES”</span><br><span class="line">[root@localhost ~]#</span><br><span class="line"></span><br><span class="line">整数值比较</span><br><span class="line"></span><br><span class="line">格式：[  整数1  操作符  整数2  ]</span><br><span class="line"></span><br><span class="line">常用的测试操作符</span><br><span class="line">-eq：等于（Equal）</span><br><span class="line">-ne：不等于（Not Equal）</span><br><span class="line">-gt：大于（Greater Than）</span><br><span class="line">-lt：小于（Lesser Than）</span><br><span class="line">-le：小于或等于（Lesser or Equal）</span><br><span class="line">-ge：大于或等于（Greater or Equal）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# who | wc -l</span><br><span class="line">5</span><br><span class="line">[root@localhost ~]# [ `who | wc -l` -le 10 ] &amp;&amp; echo &quot;YES&quot;</span><br><span class="line">YES </span><br><span class="line"></span><br><span class="line">[root@localhost ~]# df -hT | grep &quot;/boot&quot; | awk &apos;&#123;print $6&#125;&apos;</span><br><span class="line">18% </span><br><span class="line">[root@localhost ~]# BootUsage=`df -hT | grep &quot;/boot&quot; | awk &apos;&#123;print $6&#125;&apos; | cut -d &quot;%&quot; -f 1`</span><br><span class="line">[root@localhost ~]# echo $BootUsage</span><br><span class="line">18</span><br><span class="line">[root@localhost ~]# [ $BootUsage -gt 95 ] &amp;&amp; echo &quot;YES&quot; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">字符串比较</span><br><span class="line"></span><br><span class="line">格式：[  字符串1  ==  字符串2 ]  </span><br><span class="line">	  [  字符串1  !=  字符串2 ]</span><br><span class="line">      [  -z  字符串 ]</span><br><span class="line"></span><br><span class="line">常用的测试操作符</span><br><span class="line">==：字符串内容相同  </span><br><span class="line">  !!  ==两边不能有空格！！！【】两边必须有空格！！！</span><br><span class="line">!=：字符串内容不同，! 号表示相反的意思</span><br><span class="line">-z：字符串内容为空</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# read -p &quot;Location：&quot; FilePath</span><br><span class="line">Location：/etc/inittab</span><br><span class="line">[root@localhost ~]# [ $FilePath == &quot;/etc/inittab&quot; ] &amp;&amp; echo &quot;YES&quot;</span><br><span class="line">YES </span><br><span class="line"></span><br><span class="line">[root@localhost ~]# [ $LANG != &quot;en.US&quot; ] &amp;&amp; echo $LANG</span><br><span class="line">zh_CN.UTF-8</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">逻辑测试</span><br><span class="line"></span><br><span class="line">格式：[  表达式1  ]  操作符  [  表达式2  ]  ... </span><br><span class="line"></span><br><span class="line">常用的测试操作符</span><br><span class="line">-a或&amp;&amp;：逻辑与，“而且”的意思</span><br><span class="line">#前后两个表达式都成立时整个测试结果才为真，否则为假 </span><br><span class="line">-o或||：逻辑或，“或者”的意思</span><br><span class="line">#操作符两边至少一个为真时，结果为真，否则结果为假</span><br><span class="line">!：逻辑否</span><br><span class="line">#当指定的条件不成立时，返回结果为真</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# echo $USER</span><br><span class="line">root</span><br><span class="line">[root@localhost ~]# [ $USER != &quot;teacher&quot; ]  &amp;&amp;  echo &quot;Not teacher&quot;</span><br><span class="line">Not teacher</span><br><span class="line">[root@localhost ~]# [ $USER = &quot;teacher&quot; ]  ||  echo &quot;Not teacher&quot;</span><br><span class="line">Not teacher</span><br></pre></td></tr></table></figure>
<h3 id="if-条件语句-流程控制"><a href="#if-条件语句-流程控制" class="headerlink" title="if 条件语句(流程控制)"></a>if 条件语句(流程控制)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if条件语句 -- 单分支</span><br><span class="line">应用示例：</span><br><span class="line">如果/boot分区的空间使用超过80%，输出报警信息</span><br><span class="line">如果测试 / 目录的话  将 /boot 换成 /$  就可以了 </span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">RATE=`df -hT | grep &quot;/boot&quot; | awk &apos;&#123;print $6&#125;&apos; | cut -d &quot;%&quot; -f1 `</span><br><span class="line">if  [  $RATE  -gt  80  ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;Warning,DISK is full!&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">if条件语句 -- 双分支</span><br><span class="line">应用示例：</span><br><span class="line">判断mysqld是否在运行，若已运行则输出提示信息，否则重新启动mysqld服务</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">TEST=`/usr/bin/pgrep mysqld `</span><br><span class="line">if  [  “$TEST”  != “”  ]</span><br><span class="line">    then</span><br><span class="line">        echo  &quot;mysqld service is running.&quot;</span><br><span class="line">    else</span><br><span class="line">        /etc/init.d/mysqld  restart</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if条件语句 -- 多分支</span><br><span class="line"></span><br><span class="line">相当于if语句嵌套，针对多个条件执行不同操作</span><br><span class="line">if  条件测试命令1  ;  then</span><br><span class="line">    命令序列1</span><br><span class="line">elif  条件测试命令2  ;  then</span><br><span class="line">    命令序列2</span><br><span class="line">elif  ...</span><br><span class="line">else</span><br><span class="line">    命令序列n</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="for-循环语句"><a href="#for-循环语句" class="headerlink" title="for 循环语句"></a>for 循环语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">应用示例1：</span><br><span class="line">依次输出3条文字信息，包括一天中的“Morning”、“Noon”、“Evening”字串</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# vi showday.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">for TM in &quot;Morning&quot; &quot;Noon&quot; &quot;Evening&quot;</span><br><span class="line">do</span><br><span class="line">    echo &quot;The $TM of the day.&quot;</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line">[root@localhost ~]# sh showday.sh</span><br><span class="line">The Morning of the day.</span><br><span class="line">The Noon of the day.</span><br><span class="line">The Evening of the day</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">应用示例2：</span><br><span class="line">对于使用“/bin/bash”作为登录Shell的系统用户，检查他们在“/opt”目录中拥有的子目录或文件数量，如果超过100个，则列出具体个数及对应的用户帐号</span><br><span class="line"></span><br><span class="line"> #!/bin/bash</span><br><span class="line">DIR=&quot;/opt&quot;</span><br><span class="line">LMT=100</span><br><span class="line">ValidUsers=`grep &quot;/bin/bash&quot; /etc/passwd | cut -d &quot;:&quot; -f 1`</span><br><span class="line">for UserName  in  $ValidUsers</span><br><span class="line">do</span><br><span class="line">    Num=`find $DIR -user $UserName | wc -l`</span><br><span class="line">    if  [  $Num  -gt  $LMT  ]  ;  then</span><br><span class="line">         echo &quot;$UserName have $Num files.&quot;</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h3 id="while-循环语句"><a href="#while-循环语句" class="headerlink" title="while 循环语句"></a>while 循环语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">重复测试指定的条件，只要条件成立则反复执行对应的命令操作</span><br><span class="line"></span><br><span class="line">应用示例1：</span><br><span class="line">批量添加20个系统用户帐号， 用户名依次为“stu1”、“stu2”、……、“stu20”</span><br><span class="line">这些用户的初始密码均设置为“123456” </span><br><span class="line">--stdin  表示转换成键盘输入</span><br><span class="line">expr  是shell计算器（bc）里的加法</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">i=1</span><br><span class="line">while  [  $i  -le  20  ]</span><br><span class="line">do</span><br><span class="line">    useradd stu$i</span><br><span class="line">    echo &quot;123456&quot; | passwd --stdin stu$i &amp;&gt; /dev/null</span><br><span class="line">    i=`expr $i + 1`</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line">应用示例2：</span><br><span class="line">批量删除上例中添加的20个系统用户帐号</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">i=1</span><br><span class="line">while  [  $i  -le  20  ]</span><br><span class="line">do</span><br><span class="line">    userdel -r stu$i</span><br><span class="line">    i=`expr $i + 1`</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h3 id="case-多重分支语句"><a href="#case-多重分支语句" class="headerlink" title="case 多重分支语句"></a>case 多重分支语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">根据变量的不同取值，分别执行不同的命令操作</span><br><span class="line"></span><br><span class="line">应用示例1：</span><br><span class="line">编写脚本文件 mydb.sh，用于控制系统服务mysqld</span><br><span class="line">当执行 ./mydb.sh  start 时，启动mysqld服务</span><br><span class="line">当执行 ./mydb.sh  stop 时，关闭mysqld服务</span><br><span class="line">如果输入其他脚本参数，则显示帮助信息</span><br><span class="line"></span><br><span class="line">#!/bin/bash </span><br><span class="line">case   $1   in</span><br><span class="line">    start)</span><br><span class="line">        echo  &quot;Start MySQL service.&quot;</span><br><span class="line">        ;;</span><br><span class="line">    stop)</span><br><span class="line">        echo  &quot;Stop MySQL service.&quot;</span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        echo  &quot;Usage：$0  start|stop&quot;</span><br><span class="line">        ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">应用示例2：</span><br><span class="line">提示用户从键盘输入一个字符，判断该字符是否为字母、数字或者其它字符，并输出相应的提示信息 </span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">read  -p  &quot;Press some key, then press Return:“  KEY</span><br><span class="line">case  &quot;$KEY“  in</span><br><span class="line">  [a-z]|[A-Z])</span><br><span class="line">      echo &quot;It&apos;s a letter.&quot;</span><br><span class="line">      ;;</span><br><span class="line">  [0-9])</span><br><span class="line">      echo &quot;It&apos;s a digit.&quot;</span><br><span class="line">      ;;</span><br><span class="line">  *)</span><br><span class="line">      echo &quot;It&apos;s function keys、Spacebar or other keys. &quot;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<h3 id="shell-函数应用"><a href="#shell-函数应用" class="headerlink" title="shell 函数应用"></a>shell 函数应用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Shell函数概述</span><br><span class="line">在编写Shell脚本程序时，将一些需要重复使用的命令操作，定义为公共使用的语句块，即可称为函数</span><br><span class="line">合理使用Shell函数，可以使脚本内容更加简洁，增强程序的易读性，提高执行效率</span><br><span class="line"></span><br><span class="line">定义新的函数</span><br><span class="line">function 函数名 &#123;</span><br><span class="line">　　命令序列</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">函数名() &#123;</span><br><span class="line">　　命令序列</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">调用已定义的函数</span><br><span class="line">函数名</span><br><span class="line"></span><br><span class="line">向函数内传递参数</span><br><span class="line">函数名  参数1  参数2  ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">应用示例：</span><br><span class="line">在脚本中定义一个加法函数，用于计算2个整数的和</span><br><span class="line">调用该函数计算（12+34）、（56+789）的和</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">adder() &#123;</span><br><span class="line">    echo `expr $1 + $2`</span><br><span class="line">&#125;</span><br><span class="line">adder 12 34</span><br><span class="line">adder 56 789</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# bash adderfun.sh</span><br><span class="line">46</span><br><span class="line">845</span><br></pre></td></tr></table></figure>
<h2 id="额外"><a href="#额外" class="headerlink" title="额外"></a>额外</h2><pre><code>#传输文件的方法
yum -y install lrzsz
rz

#下载东西
wget 网址
</code></pre><p>##监控工具 dstat和vmstat<br>    编译安装：</p>
<pre><code>    工具下载地址：wget http://dstat.sourcearchive.com/downloads/0.7.2-2/dstat_0.7.2.orig.tar.gz

    yum安装：
yum -y install dstat 
</code></pre><p>写的比较详细的博客<br>    <a href="http://blog.csdn.net/smooth00/article/details/78623728" target="_blank" rel="noopener">http://blog.csdn.net/smooth00/article/details/78623728</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/linux/" rel="tag"># linux</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/2019/05/06/爬虫笔记/" rel="next" title="爬虫笔记">
                <i class="fa fa-chevron-left"></i> 爬虫笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/2019/05/06/通过python代码远程连接服务器进行操作之paramiko模块/" rel="prev" title="通过python代码远程连接服务器进行操作之paramiko模块">
                通过python代码远程连接服务器进行操作之paramiko模块 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">郑小飞</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/blog/archives/">
                
                    <span class="site-state-item-count">62</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#linux简介"><span class="nav-number">1.</span> <span class="nav-text">linux简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装"><span class="nav-number">1.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用端口"><span class="nav-number">1.2.</span> <span class="nav-text">常用端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用命令"><span class="nav-number">1.3.</span> <span class="nav-text">常用命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#提示符"><span class="nav-number">1.4.</span> <span class="nav-text">提示符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linux简单操作"><span class="nav-number">2.</span> <span class="nav-text">linux简单操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#追加"><span class="nav-number">2.1.</span> <span class="nav-text">追加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用操作"><span class="nav-number">2.2.</span> <span class="nav-text">常用操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#快捷键"><span class="nav-number">2.3.</span> <span class="nav-text">快捷键</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#权限位"><span class="nav-number">2.4.</span> <span class="nav-text">权限位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#权限操作"><span class="nav-number">2.5.</span> <span class="nav-text">权限操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用户操作"><span class="nav-number">2.6.</span> <span class="nav-text">用户操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查找命令"><span class="nav-number">2.7.</span> <span class="nav-text">查找命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#管道符"><span class="nav-number">2.8.</span> <span class="nav-text">管道符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#压缩和解压"><span class="nav-number">2.9.</span> <span class="nav-text">压缩和解压</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关机重启"><span class="nav-number">2.10.</span> <span class="nav-text">关机重启</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#挂载"><span class="nav-number">2.11.</span> <span class="nav-text">挂载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网络命令"><span class="nav-number">2.12.</span> <span class="nav-text">网络命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vim操作"><span class="nav-number">3.</span> <span class="nav-text">vim操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#软件包安装"><span class="nav-number">4.</span> <span class="nav-text">软件包安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#rpm手动安装"><span class="nav-number">4.1.</span> <span class="nav-text">rpm手动安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yum安装"><span class="nav-number">4.2.</span> <span class="nav-text">yum安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#源码包安装-apache"><span class="nav-number">4.3.</span> <span class="nav-text">源码包安装(apache)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户和用户组管理"><span class="nav-number">5.</span> <span class="nav-text">用户和用户组管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用户管理命令"><span class="nav-number">5.1.</span> <span class="nav-text">用户管理命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用户相关命令（id和切换）"><span class="nav-number">5.2.</span> <span class="nav-text">用户相关命令（id和切换）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ACL权限"><span class="nav-number">5.3.</span> <span class="nav-text">ACL权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输出重定向"><span class="nav-number">5.4.</span> <span class="nav-text">输出重定向</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进程和服务管理"><span class="nav-number">6.</span> <span class="nav-text">进程和服务管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#进程查看系统运行状况"><span class="nav-number">6.1.</span> <span class="nav-text">进程查看系统运行状况</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务管理"><span class="nav-number">6.2.</span> <span class="nav-text">服务管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#计划任务"><span class="nav-number">6.3.</span> <span class="nav-text">计划任务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络配置"><span class="nav-number">7.</span> <span class="nav-text">网络配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VSFTP服务"><span class="nav-number">8.</span> <span class="nav-text">VSFTP服务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Samba服务器"><span class="nav-number">9.</span> <span class="nav-text">Samba服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SSH安全登录（必会）"><span class="nav-number">10.</span> <span class="nav-text">SSH安全登录（必会）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lamp环境搭建"><span class="nav-number">11.</span> <span class="nav-text">lamp环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装辅助软件包"><span class="nav-number">11.1.</span> <span class="nav-text">安装辅助软件包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装APACHE"><span class="nav-number">11.2.</span> <span class="nav-text">安装APACHE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL服务"><span class="nav-number">11.3.</span> <span class="nav-text">MySQL服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装PHP"><span class="nav-number">11.4.</span> <span class="nav-text">安装PHP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#收尾"><span class="nav-number">11.5.</span> <span class="nav-text">收尾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装memcache服务"><span class="nav-number">11.6.</span> <span class="nav-text">安装memcache服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Apache服务器配置"><span class="nav-number">12.</span> <span class="nav-text">Apache服务器配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Apache执行停止改名"><span class="nav-number">12.1.</span> <span class="nav-text">Apache执行停止改名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#目录别名-扩容-增加服务目录"><span class="nav-number">12.2.</span> <span class="nav-text">目录别名 扩容   增加服务目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#虚拟主机"><span class="nav-number">12.3.</span> <span class="nav-text">虚拟主机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重定向"><span class="nav-number">12.4.</span> <span class="nav-text">重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网页跳转"><span class="nav-number">12.5.</span> <span class="nav-text">网页跳转</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LNMP环境搭建-Nginx服务"><span class="nav-number">13.</span> <span class="nav-text">LNMP环境搭建-Nginx服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#LNMP环境搭建"><span class="nav-number">13.1.</span> <span class="nav-text">LNMP环境搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#虚拟主机-1"><span class="nav-number">13.2.</span> <span class="nav-text">虚拟主机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表页显示"><span class="nav-number">13.3.</span> <span class="nav-text">列表页显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#状态监控模块添加"><span class="nav-number">13.4.</span> <span class="nav-text">状态监控模块添加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rewrite重写、重定向"><span class="nav-number">13.5.</span> <span class="nav-text">rewrite重写、重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网页文件跳转"><span class="nav-number">13.6.</span> <span class="nav-text">网页文件跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代理负载均衡（反向代理）"><span class="nav-number">13.7.</span> <span class="nav-text">代理负载均衡（反向代理）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell-编程"><span class="nav-number">14.</span> <span class="nav-text">Shell 编程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#shell的作用和历史"><span class="nav-number">14.1.</span> <span class="nav-text">shell的作用和历史</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell-常用功能"><span class="nav-number">14.2.</span> <span class="nav-text">shell 常用功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shell变量的应用"><span class="nav-number">14.3.</span> <span class="nav-text">Shell变量的应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell脚本的概念"><span class="nav-number">14.4.</span> <span class="nav-text">shell脚本的概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell脚本应用实例"><span class="nav-number">14.5.</span> <span class="nav-text">shell脚本应用实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell-显示写法"><span class="nav-number">14.6.</span> <span class="nav-text">shell 显示写法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell-正式编程"><span class="nav-number">15.</span> <span class="nav-text">Shell 正式编程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#正则表达式"><span class="nav-number">15.1.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell编程中常用的命令"><span class="nav-number">15.2.</span> <span class="nav-text">shell编程中常用的命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell条件测试操作"><span class="nav-number">15.3.</span> <span class="nav-text">shell条件测试操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if-条件语句-流程控制"><span class="nav-number">15.4.</span> <span class="nav-text">if 条件语句(流程控制)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-循环语句"><span class="nav-number">15.5.</span> <span class="nav-text">for 循环语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while-循环语句"><span class="nav-number">15.6.</span> <span class="nav-text">while 循环语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#case-多重分支语句"><span class="nav-number">15.7.</span> <span class="nav-text">case 多重分支语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell-函数应用"><span class="nav-number">15.8.</span> <span class="nav-text">shell 函数应用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#额外"><span class="nav-number">16.</span> <span class="nav-text">额外</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郑小飞</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/blog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/blog/js/utils.js?v=7.1.1"></script>

  <script src="/blog/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/blog/js/affix.js?v=7.1.1"></script>

  <script src="/blog/js/schemes/pisces.js?v=7.1.1"></script>




  
  <script src="/blog/js/scrollspy.js?v=7.1.1"></script>
<script src="/blog/js/post-details.js?v=7.1.1"></script>



  


  <script src="/blog/js/next-boot.js?v=7.1.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  

  

  

</body>
</html>
